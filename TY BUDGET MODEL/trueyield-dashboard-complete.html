<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrueYield | Interactive Financial Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500;9..40,600;9..40,700&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <style>
        /* =====================================================
           CSS VARIABLES - Design System
           ===================================================== */
        :root {
            /* Backgrounds */
            --bg-primary: #0a0a0f;
            --bg-secondary: #12121a;
            --bg-tertiary: #1a1a25;
            --bg-card: rgba(26, 26, 37, 0.7);

            /* Text Colors */
            --text-primary: #f0f0f5;
            --text-secondary: #8888a0;
            --text-muted: #555566;

            /* Accent Colors */
            --accent-blue: #3b82f6;
            --accent-cyan: #06b6d4;
            --accent-green: #10b981;
            --accent-yellow: #f59e0b;
            --accent-red: #ef4444;
            --accent-purple: #8b5cf6;

            /* Gradients */
            --gradient-primary: linear-gradient(135deg, #3b82f6 0%, #06b6d4 100%);
            --gradient-success: linear-gradient(135deg, #10b981 0%, #06b6d4 100%);
            --gradient-danger: linear-gradient(135deg, #ef4444 0%, #f59e0b 100%);
            --gradient-purple: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%);

            /* Shadows & Glows */
            --glow-blue: 0 0 40px rgba(59, 130, 246, 0.3);
            --glow-green: 0 0 40px rgba(16, 185, 129, 0.3);
            --glow-red: 0 0 40px rgba(239, 68, 68, 0.3);

            /* Sidebar */
            --sidebar-width: 260px;
        }

        /* =====================================================
           RESET & BASE STYLES
           ===================================================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Grid overlay effect */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                linear-gradient(rgba(59, 130, 246, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(59, 130, 246, 0.03) 1px, transparent 1px);
            background-size: 60px 60px;
            pointer-events: none;
            z-index: 0;
        }

        /* Ambient glow backgrounds */
        .ambient-glow {
            position: fixed;
            width: 600px;
            height: 600px;
            border-radius: 50%;
            filter: blur(150px);
            opacity: 0.1;
            pointer-events: none;
            z-index: 0;
            transition: all 1s ease;
        }

        .glow-1 { top: -200px; right: -200px; background: var(--accent-blue); }
        .glow-2 { bottom: -300px; left: 200px; background: var(--accent-cyan); }
        .glow-3 { top: 50%; right: 20%; width: 400px; height: 400px; background: var(--accent-purple); opacity: 0.05; }

        /* =====================================================
           TYPOGRAPHY
           ===================================================== */
        h1, h2, h3, .headline {
            font-family: 'Instrument Serif', serif;
            font-weight: 400;
            letter-spacing: -0.02em;
        }

        .mono { font-family: 'JetBrains Mono', monospace; }

        /* =====================================================
           SIDEBAR NAVIGATION
           ===================================================== */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: var(--sidebar-width);
            height: 100vh;
            background: var(--bg-secondary);
            border-right: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            flex-direction: column;
            z-index: 1000;
            overflow: hidden;
        }

        .sidebar-header {
            padding: 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .logo {
            font-family: 'Instrument Serif', serif;
            font-size: 1.5rem;
            font-weight: 400;
            letter-spacing: -0.02em;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo-subtitle {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .sidebar-nav {
            flex: 1;
            padding: 16px 12px;
            overflow-y: auto;
        }

        .nav-section { margin-bottom: 24px; }

        .nav-section-title {
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
            padding: 8px 12px;
            margin-bottom: 4px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border-radius: 10px;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.2s ease;
            cursor: pointer;
            margin-bottom: 2px;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.03);
            color: var(--text-primary);
        }

        .nav-item.active {
            background: rgba(59, 130, 246, 0.1);
            color: var(--text-primary);
            position: relative;
        }

        .nav-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 24px;
            background: var(--accent-blue);
            border-radius: 0 3px 3px 0;
        }

        .nav-icon { font-size: 1.1rem; width: 24px; text-align: center; }

        .nav-badge {
            margin-left: auto;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
            padding: 2px 6px;
            border-radius: 4px;
            background: rgba(59, 130, 246, 0.2);
            color: var(--accent-blue);
        }

        .nav-badge.hot {
            background: linear-gradient(135deg, #ef4444 0%, #f59e0b 100%);
            color: white;
            animation: pulse-hot 2s ease-in-out infinite;
        }

        @keyframes pulse-hot {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }

        /* Sidebar Stats */
        .sidebar-stats {
            padding: 16px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            background: var(--bg-tertiary);
        }

        .sidebar-stat {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            font-size: 0.8rem;
        }

        .sidebar-stat:not(:last-child) { border-bottom: 1px solid rgba(255, 255, 255, 0.03); }
        .sidebar-stat-label { color: var(--text-muted); }
        .sidebar-stat-value { font-family: 'JetBrains Mono', monospace; color: var(--text-primary); }
        .sidebar-stat-value.success { color: var(--accent-green); }
        .sidebar-stat-value.danger { color: var(--accent-red); }

        /* =====================================================
           MAIN CONTENT AREA
           ===================================================== */
        .main-content {
            margin-left: var(--sidebar-width);
            min-height: 100vh;
            position: relative;
            z-index: 1;
        }

        .page-header {
            padding: 24px 32px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            background: rgba(10, 10, 15, 0.8);
            backdrop-filter: blur(20px);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .page-subtitle {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .page-content { padding: 32px; max-width: 1800px; }

        /* Page Sections - Show/Hide */
        .page {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .page.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* =====================================================
           METRIC CARDS - Glass Morphism
           ===================================================== */
        .metric-card {
            background: var(--bg-card);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 24px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-primary);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-4px);
            border-color: rgba(59, 130, 246, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .metric-card:hover::before { opacity: 1; }
        .metric-card.success::before { background: var(--gradient-success); }
        .metric-card.danger::before { background: var(--gradient-danger); }
        .metric-card.warning::before { background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%); }
        .metric-card.active::before { opacity: 1; }

        .metric-label { font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 8px; }
        .metric-sublabel { font-size: 0.75rem; color: var(--text-muted); margin-top: 4px; }

        .metric-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 2rem;
            font-weight: 500;
            line-height: 1;
        }

        .metric-value.success { color: var(--accent-green); }
        .metric-value.danger { color: var(--accent-red); }
        .metric-value.warning { color: var(--accent-yellow); }

        /* =====================================================
           CHART CONTAINER - ENLARGED
           ===================================================== */
        .chart-container {
            background: var(--bg-card);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 28px;
            backdrop-filter: blur(10px);
            position: relative;
        }

        .chart-container.fullscreen-enabled {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chart-container.fullscreen-enabled:hover {
            border-color: rgba(59, 130, 246, 0.4);
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.15);
        }

        .chart-container.fullscreen-enabled:hover .fullscreen-hint {
            background: var(--accent-blue);
            color: white;
        }

        .fullscreen-hint {
            position: absolute;
            top: 12px;
            right: 12px;
            background: var(--bg-tertiary);
            padding: 8px 14px;
            border-radius: 8px;
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--text-secondary);
            opacity: 1;
            transition: all 0.2s ease;
            z-index: 10;
            display: flex;
            align-items: center;
            gap: 6px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .fullscreen-hint::before {
            content: 'â›¶';
            font-size: 1rem;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .chart-title { font-size: 1.1rem; color: var(--text-secondary); }
        .chart-total { font-family: 'JetBrains Mono', monospace; color: var(--accent-blue); }

        /* =====================================================
           FULLSCREEN MODAL
           ===================================================== */
        .chart-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            padding: 40px;
            animation: modalFadeIn 0.3s ease;
        }

        .chart-modal.active {
            display: flex;
            flex-direction: column;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .modal-title {
            font-family: 'Instrument Serif', serif;
            font-size: 2rem;
            color: var(--text-primary);
        }

        .modal-close {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--bg-tertiary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .modal-close:hover {
            background: var(--accent-red);
            border-color: var(--accent-red);
        }

        .modal-chart-container {
            flex: 1;
            background: var(--bg-card);
            border-radius: 20px;
            padding: 32px;
            overflow: hidden;
        }

        /* =====================================================
           SLIDER CONTAINER
           ===================================================== */
        .slider-container { margin-bottom: 20px; }

        .slider-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .slider-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: var(--accent-blue);
            background: rgba(59, 130, 246, 0.1);
            padding: 4px 10px;
            border-radius: 6px;
        }

        input[type="range"] {
            width: 100%;
            height: 6px;
            -webkit-appearance: none;
            appearance: none;
            background: var(--bg-tertiary);
            border-radius: 3px;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            background: var(--gradient-primary);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: var(--glow-blue);
            transition: transform 0.2s ease;
        }

        input[type="range"]::-webkit-slider-thumb:hover { transform: scale(1.2); }

        /* =====================================================
           TOGGLE BUTTONS
           ===================================================== */
        .toggle-btn-group {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .toggle-btn {
            padding: 12px 24px;
            background: var(--bg-tertiary);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: var(--text-secondary);
            font-family: 'DM Sans', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .toggle-btn:hover {
            border-color: var(--accent-blue);
            color: var(--text-primary);
        }

        .toggle-btn.active {
            background: var(--gradient-primary);
            border-color: transparent;
            color: white;
            box-shadow: var(--glow-blue);
        }

        .toggle-btn.recommended {
            position: relative;
        }

        .toggle-btn.recommended::after {
            content: 'Recommended';
            position: absolute;
            top: -10px;
            right: -10px;
            background: var(--accent-green);
            color: white;
            font-size: 0.6rem;
            padding: 2px 6px;
            border-radius: 4px;
            text-transform: uppercase;
        }

        /* =====================================================
           AD BUDGET CALCULATOR STYLES
           ===================================================== */
        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .stat-row:last-child { border-bottom: none; }
        .stat-row .stat-value { font-family: 'JetBrains Mono', monospace; font-weight: 500; }
        .stat-row .stat-value.success { color: var(--accent-green); }
        .stat-row .stat-value.danger { color: var(--accent-red); }

        .funding-toggle-group {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .funding-toggle-btn {
            padding: 16px 32px;
            background: var(--bg-tertiary);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: var(--text-secondary);
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .funding-toggle-btn:hover {
            border-color: var(--accent-blue);
            color: var(--text-primary);
            transform: translateY(-2px);
        }

        .funding-toggle-btn.active {
            background: var(--gradient-primary);
            border-color: transparent;
            color: white;
            box-shadow: var(--glow-blue);
        }

        .mt-16 { margin-top: 16px; }

        .mini-stat-card {
            background: var(--bg-tertiary);
            padding: 16px;
            border-radius: 12px;
            text-align: center;
        }

        .mini-stat-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .mini-stat-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--accent-cyan);
        }

        .table-scroll {
            overflow-x: auto;
            margin: 0 -16px;
            padding: 0 16px;
        }

        .channel-allocation-bar {
            display: flex;
            height: 40px;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .channel-segment {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 600;
            color: white;
            transition: all 0.3s ease;
        }

        .channel-segment:hover { filter: brightness(1.2); }
        .channel-segment.google { background: #4285F4; }
        .channel-segment.meta { background: #1877F2; }
        .channel-segment.tiktok { background: #000000; }
        .channel-segment.affiliates { background: #10b981; }
        .channel-segment.influencers { background: #8b5cf6; }
        .channel-segment.other { background: #6b7280; }

        .channel-legend {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 3px;
        }

        .legend-color.google { background: #4285F4; }
        .legend-color.meta { background: #1877F2; }
        .legend-color.tiktok { background: #000000; border: 1px solid #333; }
        .legend-color.affiliates { background: #10b981; }
        .legend-color.influencers { background: #8b5cf6; }
        .legend-color.other { background: #6b7280; }

        .insight-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .insight-card.warning { border-left: 4px solid var(--accent-yellow); }
        .insight-card.success { border-left: 4px solid var(--accent-green); }
        .insight-card.info { border-left: 4px solid var(--accent-blue); }

        .insight-icon {
            font-size: 1.5rem;
            margin-bottom: 12px;
        }

        .insight-card h5 {
            font-size: 1rem;
            margin-bottom: 8px;
            color: var(--text-primary);
        }

        .insight-card p {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .insight-card p strong {
            color: var(--text-primary);
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        @media (max-width: 1024px) {
            .grid-3 { grid-template-columns: 1fr; }
            .channel-legend { grid-template-columns: repeat(2, 1fr); }
        }

        /* =====================================================
           DATA TABLES
           ===================================================== */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .data-table th {
            text-align: left;
            padding: 12px 16px;
            font-weight: 500;
            color: var(--text-secondary);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .data-table td {
            padding: 14px 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.03);
            color: var(--text-primary);
        }

        .data-table tbody tr:hover { background: rgba(255, 255, 255, 0.02); }

        .cell-success { color: var(--accent-green) !important; background: rgba(16, 185, 129, 0.1); }
        .cell-warning { color: var(--accent-yellow) !important; background: rgba(245, 158, 11, 0.1); }
        .cell-danger { color: var(--accent-red) !important; background: rgba(239, 68, 68, 0.1); }

        /* =====================================================
           BUTTONS
           ===================================================== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-family: 'DM Sans', sans-serif;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .btn-primary { background: var(--gradient-primary); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: var(--glow-blue); }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-secondary:hover { background: rgba(255, 255, 255, 0.05); }

        .btn-export {
            padding: 10px 20px;
            background: var(--gradient-primary);
            border: none;
            border-radius: 8px;
            color: white;
            font-family: 'DM Sans', sans-serif;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-export:hover { transform: translateY(-2px); box-shadow: var(--glow-blue); }

        /* =====================================================
           ALERT BOXES
           ===================================================== */
        .alert {
            padding: 16px 20px;
            border-radius: 12px;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .alert-icon { font-size: 1.2rem; flex-shrink: 0; }
        .alert-content { flex: 1; }
        .alert-content strong { display: block; margin-bottom: 4px; }

        .alert-success {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.2);
            color: var(--accent-green);
        }

        .alert-warning {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.2);
            color: var(--accent-yellow);
        }

        .alert-danger {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.2);
            color: var(--accent-red);
        }

        /* =====================================================
           TIMELINE VISUALIZATION
           ===================================================== */
        .timeline-container {
            position: relative;
            padding: 40px 0;
        }

        .timeline-line {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--bg-tertiary);
            border-radius: 2px;
            transform: translateY(-50%);
        }

        .timeline-progress {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: var(--gradient-primary);
            border-radius: 2px;
            transition: width 0.5s ease;
        }

        .timeline-items {
            display: flex;
            justify-content: space-between;
            position: relative;
            z-index: 1;
        }

        .timeline-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            max-width: 150px;
        }

        .timeline-dot {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--bg-tertiary);
            border: 3px solid var(--bg-primary);
            margin-bottom: 16px;
            transition: all 0.3s ease;
        }

        .timeline-dot.active {
            background: var(--accent-blue);
            box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.3);
        }

        .timeline-dot.completed {
            background: var(--accent-green);
            box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.3);
        }

        .timeline-date {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            color: var(--accent-blue);
            margin-bottom: 4px;
        }

        .timeline-title {
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 4px;
        }

        .timeline-desc {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* =====================================================
           USE OF FUNDS VISUALIZATION
           ===================================================== */
        .funds-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        .fund-card {
            background: var(--bg-card);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 24px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .fund-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .fund-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
        }

        .fund-card.marketing::before { background: var(--accent-cyan); }
        .fund-card.working-capital::before { background: var(--accent-green); }
        .fund-card.team::before { background: var(--accent-purple); }
        .fund-card.product::before { background: var(--accent-yellow); }

        .fund-percent {
            font-family: 'JetBrains Mono', monospace;
            font-size: 2.5rem;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .fund-card.marketing .fund-percent { color: var(--accent-cyan); }
        .fund-card.working-capital .fund-percent { color: var(--accent-green); }
        .fund-card.team .fund-percent { color: var(--accent-purple); }
        .fund-card.product .fund-percent { color: var(--accent-yellow); }

        .fund-amount {
            font-size: 1.25rem;
            margin-bottom: 8px;
        }

        .fund-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .fund-bar {
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            margin-top: 16px;
            overflow: hidden;
        }

        .fund-bar-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 1s ease;
        }

        /* =====================================================
           SUBSCRIPTIONS / COSTS BREAKDOWN
           ===================================================== */
        .cost-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            background: var(--bg-tertiary);
            border-radius: 12px;
            margin-bottom: 12px;
            transition: all 0.2s ease;
        }

        .cost-item:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .cost-info {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .cost-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            background: var(--bg-card);
        }

        .cost-name {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .cost-category {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .cost-amount {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.25rem;
        }

        .cost-period {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* =====================================================
           GRID UTILITIES
           ===================================================== */
        .grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 24px; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; }
        .grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 24px; }
        .grid-5 { display: grid; grid-template-columns: repeat(5, 1fr); gap: 24px; }

        .mb-24 { margin-bottom: 24px; }
        .mt-24 { margin-top: 24px; }

        /* =====================================================
           TAB NAVIGATION
           ===================================================== */
        .tab-nav, .tab-navigation {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            border-bottom: 1px solid var(--bg-tertiary);
            padding-bottom: 12px;
        }

        .tab-btn {
            padding: 10px 20px;
            background: transparent;
            border: 1px solid var(--bg-tertiary);
            border-radius: 8px;
            color: var(--text-secondary);
            font-family: 'DM Sans', sans-serif;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab-btn:hover { background: var(--bg-tertiary); color: var(--text-primary); }
        .tab-btn.active { background: var(--accent-blue); border-color: var(--accent-blue); color: white; }

        .tab-content { display: none; }
        .tab-content.active { display: block; }

        /* =====================================================
           PANELS
           ===================================================== */
        .sliders-panel {
            background: var(--bg-card);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            margin-bottom: 24px;
            overflow: hidden;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 24px;
            cursor: pointer;
            background: var(--bg-tertiary);
        }

        .panel-header h3 { font-size: 1rem; font-weight: 500; }
        .toggle-icon { transition: transform 0.3s ease; }
        .collapsed .toggle-icon { transform: rotate(-90deg); }
        .collapsed .panel-content { display: none; }
        .panel-content { padding: 24px; }

        /* =====================================================
           SCENARIO CARDS
           ===================================================== */
        .scenario-card { position: relative; }
        .scenario-header { margin-bottom: 16px; }
        .scenario-header h4 { margin-top: 8px; }

        .scenario-badge {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: 4px 8px;
            border-radius: 4px;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
        }

        .scenario-badge.success { background: rgba(16, 185, 129, 0.2); color: var(--accent-green); }

        .scenario-metrics { display: flex; flex-direction: column; gap: 12px; }

        .scenario-metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
        }

        .scenario-metric .label { color: var(--text-secondary); }
        .scenario-metric .value { font-family: 'JetBrains Mono', monospace; }
        .scenario-metric .value.success { color: var(--accent-green); }
        .scenario-metric .value.warning { color: var(--accent-yellow); }
        .scenario-metric .value.danger { color: var(--accent-red); }

        .scenario-card.recommended { border: 2px solid var(--accent-green); }

        /* Monthly Budget Planner */
        .month-budget-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }

        .month-budget-card {
            background: var(--bg-tertiary);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
        }

        .month-budget-card h5 {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .month-budget-card .budget-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.1rem;
            color: var(--accent-blue);
        }

        /* =====================================================
           RESPONSIVE DESIGN
           ===================================================== */
        @media (max-width: 1400px) {
            .grid-4, .grid-5 { grid-template-columns: repeat(2, 1fr); }
            .funds-grid { grid-template-columns: repeat(2, 1fr); }
            .month-budget-grid { grid-template-columns: repeat(3, 1fr); }
        }
        @media (max-width: 1200px) { .grid-3 { grid-template-columns: repeat(2, 1fr); } }

        @media (max-width: 768px) {
            .sidebar { transform: translateX(-100%); transition: transform 0.3s ease; }
            .sidebar.open { transform: translateX(0); }
            .main-content { margin-left: 0; }
            .grid-2, .grid-3, .grid-4, .grid-5 { grid-template-columns: 1fr; }
            .funds-grid { grid-template-columns: 1fr; }
            .month-budget-grid { grid-template-columns: repeat(2, 1fr); }
            .page-content { padding: 16px; }
            .metric-value { font-size: 1.5rem; }
            .timeline-items { flex-direction: column; gap: 24px; }
            .timeline-line { display: none; }
        }

        /* Mobile menu toggle */
        .mobile-menu-toggle {
            display: none;
            position: fixed;
            top: 16px;
            left: 16px;
            z-index: 1001;
            width: 40px;
            height: 40px;
            background: var(--bg-secondary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1.2rem;
            cursor: pointer;
            align-items: center;
            justify-content: center;
        }

        @media (max-width: 768px) {
            .mobile-menu-toggle { display: flex; }
        }

        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }

        .sidebar-overlay.active { display: block; }

        /* =====================================================
           INTERACTIVE BUDGET SIMULATOR
           ===================================================== */
        .slider-icon {
            font-size: 0.7rem;
            margin-right: 6px;
        }

        .slider-range {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .slider-google::-webkit-slider-thumb { background: #4285F4; }
        .slider-meta::-webkit-slider-thumb { background: #1877F2; }
        .slider-runway::-webkit-slider-thumb { background: #10b981; }
        .slider-roas::-webkit-slider-thumb { background: #f59e0b; }

        .slider-google::-webkit-slider-runnable-track { background: linear-gradient(90deg, #4285F4 0%, rgba(66, 133, 244, 0.2) 100%); }
        .slider-meta::-webkit-slider-runnable-track { background: linear-gradient(90deg, #1877F2 0%, rgba(24, 119, 242, 0.2) 100%); }
        .slider-runway::-webkit-slider-runnable-track { background: linear-gradient(90deg, #10b981 0%, rgba(16, 185, 129, 0.2) 100%); }
        .slider-roas::-webkit-slider-runnable-track { background: linear-gradient(90deg, #f59e0b 0%, rgba(245, 158, 11, 0.2) 100%); }

        .revenue-impact-panel {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 16px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .impact-metric-card {
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 12px;
            transition: transform 0.2s ease;
        }

        .impact-metric-card:hover {
            transform: translateX(4px);
        }

        .impact-metric-card.highlight {
            animation: pulse-highlight 2s ease-in-out infinite;
        }

        @keyframes pulse-highlight {
            0%, 100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
            50% { box-shadow: 0 0 20px 4px rgba(59, 130, 246, 0.2); }
        }

        .impact-label {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .impact-value {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .impact-value.success { color: var(--accent-green); }
        .impact-value.danger { color: var(--accent-red); }

        .impact-detail {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .comparison-bar {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 24px;
            background: rgba(0, 0, 0, 0.3);
            padding: 16px 24px;
            border-radius: 12px;
            margin-top: 16px;
        }

        .comparison-item {
            text-align: center;
        }

        .comparison-label {
            display: block;
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .comparison-value {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .comparison-value.current { color: var(--text-secondary); }
        .comparison-value.new { color: var(--accent-blue); }
        .comparison-value.increase { color: var(--accent-green); }

        .comparison-arrow {
            font-size: 1.5rem;
            color: var(--text-muted);
        }

        .comparison-item.delta {
            background: rgba(16, 185, 129, 0.1);
            padding: 8px 16px;
            border-radius: 8px;
        }

        @media (max-width: 768px) {
            .comparison-bar {
                flex-direction: column;
                gap: 12px;
            }
            .comparison-arrow {
                transform: rotate(90deg);
            }
        }

        /* =====================================================
           PITCH DECK INTEGRATION
           ===================================================== */
        .nav-badge.featured {
            background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%);
            color: white;
            animation: pulse-featured 2s ease-in-out infinite;
        }

        @keyframes pulse-featured {
            0%, 100% { box-shadow: 0 0 0 0 rgba(139, 92, 246, 0); }
            50% { box-shadow: 0 0 12px 4px rgba(139, 92, 246, 0.3); }
        }

        .pitch-deck-btn {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%) !important;
            border: 1px solid rgba(139, 92, 246, 0.3) !important;
        }

        .pitch-deck-btn:hover {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(59, 130, 246, 0.2) 100%) !important;
            border-color: rgba(139, 92, 246, 0.5) !important;
        }

        /* Pitch Deck Modal */
        .pitch-deck-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            animation: fadeIn 0.3s ease;
        }

        .pitch-deck-modal.active {
            display: flex;
            flex-direction: column;
        }

        .pitch-deck-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 24px;
            background: rgba(26, 26, 37, 0.95);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .pitch-deck-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .pitch-deck-title span {
            font-size: 1.5rem;
        }

        .pitch-deck-actions {
            display: flex;
            gap: 12px;
        }

        .pitch-deck-btn-action {
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .pitch-deck-btn-action.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        .pitch-deck-btn-action.secondary:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .pitch-deck-btn-action.primary {
            background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%);
            color: white;
        }

        .pitch-deck-btn-action.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4);
        }

        .pitch-deck-btn-action.close {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        .pitch-deck-btn-action.close:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .pitch-deck-iframe-container {
            flex: 1;
            position: relative;
            overflow: hidden;
        }

        .pitch-deck-iframe {
            width: 100%;
            height: 100%;
            border: none;
            background: var(--bg-primary);
        }

        .pitch-deck-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: var(--text-secondary);
        }

        .pitch-deck-loading .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(139, 92, 246, 0.2);
            border-top-color: #8b5cf6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 16px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Ambient Glows -->
    <div class="ambient-glow glow-1"></div>
    <div class="ambient-glow glow-2"></div>
    <div class="ambient-glow glow-3"></div>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" onclick="toggleSidebar()">
        <span id="menuIcon">&#9776;</span>
    </button>

    <!-- Sidebar Overlay (mobile) -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

    <!-- Fullscreen Chart Modal -->
    <div class="chart-modal" id="chartModal">
        <div class="modal-header">
            <h2 class="modal-title" id="modalTitle">Chart Title</h2>
            <button class="modal-close" onclick="closeChartModal()">&times;</button>
        </div>
        <div class="modal-chart-container">
            <div id="modalChart" style="width: 100%; height: 100%;"></div>
        </div>
    </div>

    <!-- Sidebar Navigation -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">TrueYield</div>
            <div class="logo-subtitle">Financial Dashboard</div>
        </div>

        <nav class="sidebar-nav">
            <div class="nav-section">
                <div class="nav-section-title">Overview</div>
                <a class="nav-item active" data-page="executive" onclick="showPage('executive')">
                    <span class="nav-icon">&#128200;</span>
                    <span>Executive Dashboard</span>
                </a>
                <a class="nav-item" data-page="revenue" onclick="showPage('revenue')">
                    <span class="nav-icon">&#128176;</span>
                    <span>Revenue Progression</span>
                    <span class="nav-badge">New</span>
                </a>
                <a class="nav-item" data-page="growth" onclick="showPage('growth')">
                    <span class="nav-icon">&#128101;</span>
                    <span>Customer Growth</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Planning</div>
                <a class="nav-item" data-page="funding" onclick="showPage('funding')">
                    <span class="nav-icon">&#128176;</span>
                    <span>Funding Scenarios</span>
                </a>
                <a class="nav-item" data-page="adbudget" onclick="showPage('adbudget')">
                    <span class="nav-icon">&#128181;</span>
                    <span>Ad Budget Calculator</span>
                    <span class="nav-badge hot">Hot</span>
                </a>
                <a class="nav-item" data-page="budget" onclick="showPage('budget')">
                    <span class="nav-icon">&#128202;</span>
                    <span>2026 Budget Planner</span>
                </a>
                <a class="nav-item" data-page="usefunds" onclick="showPage('usefunds')">
                    <span class="nav-icon">&#127919;</span>
                    <span>Use of Funds</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Analysis</div>
                <a class="nav-item" data-page="breakeven" onclick="showPage('breakeven')">
                    <span class="nav-icon">&#128260;</span>
                    <span>Breakeven Calculator</span>
                </a>
                <a class="nav-item" data-page="channels" onclick="showPage('channels')">
                    <span class="nav-icon">&#128203;</span>
                    <span>Channel Deep Dive</span>
                </a>
                <a class="nav-item" data-page="costs" onclick="showPage('costs')">
                    <span class="nav-icon">&#128179;</span>
                    <span>Costs Breakdown</span>
                    <span class="nav-badge">New</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Roadmap</div>
                <a class="nav-item" data-page="timeline" onclick="showPage('timeline')">
                    <span class="nav-icon">&#128197;</span>
                    <span>Milestones</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Presentation</div>
                <a class="nav-item pitch-deck-btn" onclick="openPitchDeck()">
                    <span class="nav-icon">&#127916;</span>
                    <span>Investor Pitch Deck</span>
                    <span class="nav-badge featured">View</span>
                </a>
            </div>
        </nav>

        <div class="sidebar-stats">
            <div class="sidebar-stat">
                <span class="sidebar-stat-label">Bank Balance</span>
                <span class="sidebar-stat-value">&#8364;1.0M</span>
            </div>
            <div class="sidebar-stat">
                <span class="sidebar-stat-label">Monthly Burn</span>
                <span class="sidebar-stat-value danger">&#8364;100k</span>
            </div>
            <div class="sidebar-stat">
                <span class="sidebar-stat-label">Revenue</span>
                <span class="sidebar-stat-value success">&#8364;25k</span>
            </div>
        </div>
    </aside>

    <!-- Main Content Area -->
    <main class="main-content">

        <!-- ========================================== -->
        <!-- PAGE 1: EXECUTIVE DASHBOARD -->
        <!-- ========================================== -->
        <section class="page active" id="page-executive">
            <div class="page-header">
                <h1>Executive Dashboard</h1>
                <p class="page-subtitle">December 2025 Financial Overview</p>
            </div>

            <div class="page-content">
                <!-- Hero Metrics Row -->
                <div class="grid-5 mb-24">
                    <div class="metric-card">
                        <div class="metric-label">Bank Balance</div>
                        <div class="metric-value">&#8364;1M</div>
                        <div class="metric-sublabel">Current runway capital</div>
                    </div>
                    <div class="metric-card warning">
                        <div class="metric-label">Monthly Burn</div>
                        <div class="metric-value">&#8364;100k</div>
                        <div class="metric-sublabel">Fixed operating costs</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Runway</div>
                        <div class="metric-value">13 mo</div>
                        <div class="metric-sublabel">At current burn rate</div>
                    </div>
                    <div class="metric-card success">
                        <div class="metric-label">Dec Revenue</div>
                        <div class="metric-value">&#8364;25k</div>
                        <div class="metric-sublabel">Monthly recurring</div>
                    </div>
                    <div class="metric-card danger">
                        <div class="metric-label">Payout Ratio</div>
                        <div class="metric-value">200%</div>
                        <div class="metric-sublabel">Payouts / Revenue</div>
                    </div>
                </div>

                <!-- Two Column Charts -->
                <div class="grid-2 mb-24">
                    <div class="chart-container fullscreen-enabled" onclick="openChartModal('Revenue by Channel', 'executivePie')">
                        <span class="fullscreen-hint">Preview</span>
                        <div class="chart-header">
                            <h3>Revenue by Channel</h3>
                            <span class="chart-total">Total: &#8364;73.3k</span>
                        </div>
                        <div id="chart-executive-pie" style="height: 380px;"></div>
                    </div>

                    <div class="chart-container fullscreen-enabled" onclick="openChartModal('Cost Structure', 'executiveBar')">
                        <span class="fullscreen-hint">Preview</span>
                        <div class="chart-header">
                            <h3>Cost Structure</h3>
                            <span class="chart-total">Total: &#8364;162k</span>
                        </div>
                        <div id="chart-executive-bar" style="height: 380px;"></div>
                    </div>
                </div>

                <!-- Insight Boxes -->
                <div class="grid-2 insight-row">
                    <div class="alert alert-success">
                        <div class="alert-icon">&#10003;</div>
                        <div class="alert-content">
                            <strong>64% of revenue is FREE</strong>
                            <p>Organic + Direct channels drive the majority of revenue without acquisition costs.</p>
                        </div>
                    </div>
                    <div class="alert alert-danger">
                        <div class="alert-icon">!</div>
                        <div class="alert-content">
                            <strong>Payouts = 200% of revenue</strong>
                            <p>For every &#8364;1 earned, &#8364;2 is paid out in trader payouts and giveaways.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ========================================== -->
        <!-- PAGE: REVENUE PROGRESSION (Aug-Dec Real Data) -->
        <!-- ========================================== -->
        <section class="page" id="page-revenue">
            <div class="page-header">
                <h1>Revenue Progression</h1>
                <p class="page-subtitle">August - December 2025 Actual Performance</p>
            </div>

            <div class="page-content">
                <!-- Key Metrics -->
                <div class="grid-5 mb-24">
                    <div class="metric-card">
                        <div class="metric-label">Aug Revenue</div>
                        <div class="metric-value">&#8364;8k</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Sep Revenue</div>
                        <div class="metric-value">&#8364;12k</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Oct Revenue</div>
                        <div class="metric-value">&#8364;15k</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Nov Revenue</div>
                        <div class="metric-value">&#8364;20k</div>
                    </div>
                    <div class="metric-card success">
                        <div class="metric-label">Dec Revenue</div>
                        <div class="metric-value success">&#8364;25k</div>
                    </div>
                </div>

                <!-- Main Revenue Chart -->
                <div class="chart-container fullscreen-enabled mb-24" onclick="openChartModal('Revenue Trend (Aug-Dec 2025)', 'revenueProgression')">
                    <span class="fullscreen-hint">Preview</span>
                    <div class="chart-header">
                        <h3>Revenue Trend (Aug-Dec 2025)</h3>
                        <span class="chart-total">Cumulative: &#8364;80k</span>
                    </div>
                    <div id="chart-revenue-progression" style="height: 450px;"></div>
                </div>

                <!-- Growth Metrics -->
                <div class="grid-3 mb-24">
                    <div class="metric-card success">
                        <div class="metric-label">5-Month Growth</div>
                        <div class="metric-value success">+212%</div>
                        <div class="metric-sublabel">From &#8364;8k to &#8364;25k</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Avg Monthly Growth</div>
                        <div class="metric-value">+26%</div>
                        <div class="metric-sublabel">Month-over-month</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Cumulative Revenue</div>
                        <div class="metric-value">&#8364;80k</div>
                        <div class="metric-sublabel">Aug-Dec 2025</div>
                    </div>
                </div>

                <!-- Customer Growth Chart -->
                <div class="chart-container fullscreen-enabled" onclick="openChartModal('Customer & Revenue Growth', 'customerGrowth')">
                    <span class="fullscreen-hint">Preview</span>
                    <div class="chart-header">
                        <h3>Customer & Revenue Growth</h3>
                    </div>
                    <div id="chart-customer-growth" style="height: 400px;"></div>
                </div>
            </div>
        </section>

        <!-- ========================================== -->
        <!-- PAGE: CUSTOMER GROWTH -->
        <!-- ========================================== -->
        <section class="page" id="page-growth">
            <div class="page-header">
                <h1>Customer Growth Model</h1>
                <p class="page-subtitle">Interactive 24-Month Projection</p>
            </div>

            <div class="page-content">
                <!-- Sliders Panel -->
                <div class="sliders-panel" id="growth-sliders-panel">
                    <div class="panel-header" onclick="togglePanel('growth-sliders-panel')">
                        <h3>Model Parameters</h3>
                        <span class="toggle-icon">&#9660;</span>
                    </div>
                    <div class="panel-content">
                        <div class="grid-3">
                            <div class="slider-container">
                                <div class="slider-label">
                                    <span>Starting Revenue</span>
                                    <span class="slider-value" id="growth-revenue-value">&#8364;25k</span>
                                </div>
                                <input type="range" id="growth-revenue-slider" min="10000" max="100000" step="5000" value="25000">
                            </div>
                            <div class="slider-container">
                                <div class="slider-label">
                                    <span>Growth Rate</span>
                                    <span class="slider-value" id="growth-rate-value">20%</span>
                                </div>
                                <input type="range" id="growth-rate-slider" min="5" max="40" step="1" value="20">
                            </div>
                            <div class="slider-container">
                                <div class="slider-label">
                                    <span>Payout Ratio</span>
                                    <span class="slider-value" id="growth-payout-value">50%</span>
                                </div>
                                <input type="range" id="growth-payout-slider" min="30" max="80" step="5" value="50">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Growth Chart -->
                <div class="chart-container fullscreen-enabled mb-24" onclick="openChartModal('Growth Projection (24 Months)', 'growthMain')">
                    <span class="fullscreen-hint">Preview</span>
                    <div class="chart-header">
                        <h3>Customer & Revenue Growth (24 Months)</h3>
                    </div>
                    <div id="chart-growth-main" style="height: 450px;"></div>
                </div>

                <!-- Results Row -->
                <div class="grid-4">
                    <div class="metric-card success">
                        <div class="metric-label">Breakeven Month</div>
                        <div class="metric-value" id="growth-breakeven-month">Month 15</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Month 12 Revenue</div>
                        <div class="metric-value" id="growth-m12-revenue">&#8364;155k</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Month 12 Customers</div>
                        <div class="metric-value" id="growth-m12-customers">889</div>
                    </div>
                    <div class="metric-card warning">
                        <div class="metric-label">Min Bank Balance</div>
                        <div class="metric-value" id="growth-min-balance">&#8364;320k</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ========================================== -->
        <!-- PAGE: FUNDING SCENARIOS (Interactive Toggle) -->
        <!-- ========================================== -->
        <section class="page" id="page-funding">
            <div class="page-header">
                <h1>Funding Scenarios</h1>
                <p class="page-subtitle">Compare Investment Outcomes</p>
            </div>

            <div class="page-content">
                <!-- Interactive Toggle Buttons -->
                <div class="toggle-btn-group" id="fundingToggle">
                    <button class="toggle-btn" data-funding="0" onclick="selectFundingScenario(0)">No Funding</button>
                    <button class="toggle-btn" data-funding="1000000" onclick="selectFundingScenario(1000000)">&#8364;1M</button>
                    <button class="toggle-btn active recommended" data-funding="2000000" onclick="selectFundingScenario(2000000)">&#8364;2M</button>
                    <button class="toggle-btn" data-funding="5000000" onclick="selectFundingScenario(5000000)">&#8364;5M</button>
                </div>

                <!-- Selected Scenario Details -->
                <div class="grid-4 mb-24" id="fundingMetrics">
                    <div class="metric-card">
                        <div class="metric-label">Starting Capital</div>
                        <div class="metric-value" id="funding-capital">&#8364;3M</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Runway</div>
                        <div class="metric-value" id="funding-runway">18 months</div>
                    </div>
                    <div class="metric-card success">
                        <div class="metric-label">Breakeven</div>
                        <div class="metric-value success" id="funding-breakeven">Month 15</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Final Balance (M24)</div>
                        <div class="metric-value" id="funding-final">&#8364;2.28M</div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="grid-2">
                    <div class="chart-container fullscreen-enabled" onclick="openChartModal('Bank Balance Projection', 'fundingBalance')">
                        <span class="fullscreen-hint">Preview</span>
                        <div class="chart-header">
                            <h3>Bank Balance Over Time</h3>
                        </div>
                        <div id="chart-funding-balance" style="height: 400px;"></div>
                    </div>

                    <div class="chart-container fullscreen-enabled" onclick="openChartModal('Scenario Comparison', 'scenarioComparison')">
                        <span class="fullscreen-hint">Preview</span>
                        <div class="chart-header">
                            <h3>All Scenarios Comparison</h3>
                        </div>
                        <div id="chart-scenario-comparison" style="height: 400px;"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ========================================== -->
        <!-- PAGE: AD BUDGET CALCULATOR (NEW) -->
        <!-- ========================================== -->
        <section class="page" id="page-adbudget">
            <div class="page-header">
                <h1>Ad Budget Calculator</h1>
                <p class="page-subtitle">How much should we spend on Meta Ads & Google Ads from the â‚¬2M funding?</p>
            </div>

            <div class="page-content">
                <!-- Current State vs Post-Funding -->
                <div class="grid-2 mb-24">
                    <div class="metric-card" style="border: 2px solid rgba(239, 68, 68, 0.3);">
                        <h4 style="color: var(--accent-red); margin-bottom: 16px;">Current State (No Funding)</h4>
                        <div class="stat-row">
                            <span>Monthly Ad Spend</span>
                            <span class="stat-value">â‚¬12,000</span>
                        </div>
                        <div class="stat-row">
                            <span>Google Ads</span>
                            <span class="stat-value">â‚¬6,000</span>
                        </div>
                        <div class="stat-row">
                            <span>Meta Ads</span>
                            <span class="stat-value">â‚¬6,000</span>
                        </div>
                        <div class="stat-row">
                            <span>Current ROAS</span>
                            <span class="stat-value danger">0.61x</span>
                        </div>
                        <div class="stat-row">
                            <span>Current CAC</span>
                            <span class="stat-value danger">â‚¬222</span>
                        </div>
                    </div>
                    <div class="metric-card" style="border: 2px solid rgba(16, 185, 129, 0.3);">
                        <h4 style="color: var(--accent-green); margin-bottom: 16px;">With â‚¬2M Funding (Recommended)</h4>
                        <div class="stat-row">
                            <span>Marketing Budget (30%)</span>
                            <span class="stat-value success">â‚¬600,000</span>
                        </div>
                        <div class="stat-row">
                            <span>Over 18 Months</span>
                            <span class="stat-value">â‚¬33,333/mo</span>
                        </div>
                        <div class="stat-row">
                            <span>Target ROAS</span>
                            <span class="stat-value success">1.5x+</span>
                        </div>
                        <div class="stat-row">
                            <span>Target CAC</span>
                            <span class="stat-value success">â‚¬100-150</span>
                        </div>
                    </div>
                </div>

                <!-- Interactive Funding Selector -->
                <div class="metric-card mb-24">
                    <h4 style="margin-bottom: 20px;">Select Your Funding Scenario</h4>
                    <div class="funding-toggle-group" id="adBudgetFundingToggle">
                        <button class="funding-toggle-btn" data-funding="1000000" onclick="updateAdBudgetCalculator(1000000)">â‚¬1M</button>
                        <button class="funding-toggle-btn active" data-funding="2000000" onclick="updateAdBudgetCalculator(2000000)">â‚¬2M</button>
                        <button class="funding-toggle-btn" data-funding="5000000" onclick="updateAdBudgetCalculator(5000000)">â‚¬5M</button>
                    </div>
                    <div class="grid-4 mt-16" id="fundingSummaryCards">
                        <div class="mini-stat-card">
                            <div class="mini-stat-label">Total Marketing Pool</div>
                            <div class="mini-stat-value" id="adcalc-total-pool">â‚¬600,000</div>
                        </div>
                        <div class="mini-stat-card">
                            <div class="mini-stat-label">Runway</div>
                            <div class="mini-stat-value" id="adcalc-runway">18 months</div>
                        </div>
                        <div class="mini-stat-card">
                            <div class="mini-stat-label">Avg Monthly Budget</div>
                            <div class="mini-stat-value" id="adcalc-monthly">â‚¬33,333</div>
                        </div>
                        <div class="mini-stat-card">
                            <div class="mini-stat-label">Paid Ads (40%)</div>
                            <div class="mini-stat-value" id="adcalc-paid-ads">â‚¬13,333</div>
                        </div>
                    </div>
                </div>

                <!-- Monthly Ad Spend Projections Table -->
                <div class="metric-card mb-24">
                    <h4 style="margin-bottom: 16px;">18-Month Ad Spend Projection</h4>
                    <p style="color: var(--text-muted); margin-bottom: 16px; font-size: 0.9rem;">
                        Based on 15% of revenue model + baseline funding allocation. Scales with growth.
                    </p>
                    <div class="table-scroll">
                        <table class="data-table" id="adSpendTable">
                            <thead>
                                <tr>
                                    <th>Month</th>
                                    <th>Revenue</th>
                                    <th>Total Marketing</th>
                                    <th>Google Ads</th>
                                    <th>Meta Ads</th>
                                    <th>Affiliates</th>
                                    <th>Influencers</th>
                                    <th>Other</th>
                                </tr>
                            </thead>
                            <tbody id="adSpendTableBody">
                                <!-- Populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Channel Allocation Breakdown -->
                <div class="grid-2 mb-24">
                    <div class="metric-card">
                        <h4 style="margin-bottom: 20px; color: var(--accent-blue);">Recommended Channel Split</h4>
                        <div class="channel-allocation-bar">
                            <div class="channel-segment google" style="width: 20%;" title="Google Ads 20%"></div>
                            <div class="channel-segment meta" style="width: 20%;" title="Meta Ads 20%"></div>
                            <div class="channel-segment tiktok" style="width: 10%;" title="TikTok 10%"></div>
                            <div class="channel-segment affiliates" style="width: 25%;" title="Affiliates 25%"></div>
                            <div class="channel-segment influencers" style="width: 15%;" title="Influencers 15%"></div>
                            <div class="channel-segment other" style="width: 10%;" title="Other 10%"></div>
                        </div>
                        <div class="channel-legend">
                            <div class="legend-item"><span class="legend-color google"></span>Google Ads (20%)</div>
                            <div class="legend-item"><span class="legend-color meta"></span>Meta Ads (20%)</div>
                            <div class="legend-item"><span class="legend-color tiktok"></span>TikTok (10%)</div>
                            <div class="legend-item"><span class="legend-color affiliates"></span>Affiliates (25%)</div>
                            <div class="legend-item"><span class="legend-color influencers"></span>Influencers (15%)</div>
                            <div class="legend-item"><span class="legend-color other"></span>Other (10%)</div>
                        </div>
                    </div>
                    <div class="chart-container fullscreen-enabled" onclick="openChartModal('Ad Budget Over Time', 'adBudgetChart')">
                        <span class="fullscreen-hint">Preview</span>
                        <div class="chart-header">
                            <h3>Monthly Ad Spend Projection</h3>
                        </div>
                        <div id="chart-ad-budget" style="height: 350px;"></div>
                    </div>
                </div>

                <!-- INTERACTIVE BUDGET SLIDERS -->
                <div class="metric-card mb-24" style="border: 2px solid rgba(59, 130, 246, 0.4); background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(139, 92, 246, 0.05) 100%);">
                    <h4 style="margin-bottom: 8px; color: var(--accent-blue);">
                        <span style="font-size: 1.3rem; margin-right: 8px;">&#127918;</span>
                        Interactive Budget Simulator
                    </h4>
                    <p style="color: var(--text-muted); margin-bottom: 24px; font-size: 0.9rem;">
                        Play with the sliders to see how different ad spend levels impact your projected revenue. Not limited to 18-month runway!
                    </p>

                    <div class="grid-2 mb-24">
                        <!-- Left: Sliders -->
                        <div>
                            <div class="slider-container mb-16">
                                <div class="slider-label">
                                    <span><span class="slider-icon" style="color: #4285F4;">&#9679;</span> Monthly Google Ads</span>
                                    <span class="slider-value" id="googleAdsValue">â‚¬10,000</span>
                                </div>
                                <input type="range" id="googleAdsSlider" min="5000" max="50000" value="10000" step="1000"
                                       oninput="updateBudgetSimulator()" class="slider-google">
                                <div class="slider-range">
                                    <span>â‚¬5k</span>
                                    <span>â‚¬50k</span>
                                </div>
                            </div>

                            <div class="slider-container mb-16">
                                <div class="slider-label">
                                    <span><span class="slider-icon" style="color: #1877F2;">&#9679;</span> Monthly Meta Ads</span>
                                    <span class="slider-value" id="metaAdsValue">â‚¬10,000</span>
                                </div>
                                <input type="range" id="metaAdsSlider" min="5000" max="50000" value="10000" step="1000"
                                       oninput="updateBudgetSimulator()" class="slider-meta">
                                <div class="slider-range">
                                    <span>â‚¬5k</span>
                                    <span>â‚¬50k</span>
                                </div>
                            </div>

                            <div class="slider-container mb-16">
                                <div class="slider-label">
                                    <span><span class="slider-icon" style="color: #10b981;">&#9679;</span> Campaign Duration</span>
                                    <span class="slider-value" id="runwayValue">12 months</span>
                                </div>
                                <input type="range" id="runwaySlider" min="6" max="36" value="12" step="3"
                                       oninput="updateBudgetSimulator()" class="slider-runway">
                                <div class="slider-range">
                                    <span>6 mo</span>
                                    <span>36 mo</span>
                                </div>
                            </div>

                            <div class="slider-container">
                                <div class="slider-label">
                                    <span><span class="slider-icon" style="color: #f59e0b;">&#9679;</span> Expected ROAS</span>
                                    <span class="slider-value" id="roasValue">1.5x</span>
                                </div>
                                <input type="range" id="roasSlider" min="0.5" max="4" value="1.5" step="0.1"
                                       oninput="updateBudgetSimulator()" class="slider-roas">
                                <div class="slider-range">
                                    <span>0.5x (Loss)</span>
                                    <span>4x (Excellent)</span>
                                </div>
                            </div>
                        </div>

                        <!-- Right: Revenue Impact -->
                        <div class="revenue-impact-panel">
                            <h5 style="color: var(--text-secondary); margin-bottom: 16px; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px;">Revenue Impact Analysis</h5>

                            <div class="impact-metric-card" style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%); border-left: 3px solid #ef4444;">
                                <div class="impact-label">Total Ad Investment</div>
                                <div class="impact-value" id="totalAdInvestment">â‚¬240,000</div>
                                <div class="impact-detail" id="investmentDetail">â‚¬20,000/mo Ã— 12 months</div>
                            </div>

                            <div class="impact-metric-card" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%); border-left: 3px solid #10b981;">
                                <div class="impact-label">Projected Ad Revenue</div>
                                <div class="impact-value success" id="projectedAdRevenue">â‚¬360,000</div>
                                <div class="impact-detail" id="revenueDetail">At 1.5x ROAS</div>
                            </div>

                            <div class="impact-metric-card highlight" id="profitCard" style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(139, 92, 246, 0.15) 100%); border-left: 3px solid #3b82f6;">
                                <div class="impact-label">Net Profit from Ads</div>
                                <div class="impact-value" id="netProfit" style="font-size: 1.8rem;">+â‚¬120,000</div>
                                <div class="impact-detail" id="profitDetail">50% return on investment</div>
                            </div>

                            <div class="impact-metric-card" style="background: rgba(255, 255, 255, 0.02); border-left: 3px solid var(--text-muted);">
                                <div class="impact-label">New Customers Acquired</div>
                                <div class="impact-value" id="customersAcquired">~2,400</div>
                                <div class="impact-detail" id="customerDetail">At â‚¬100 target CAC</div>
                            </div>
                        </div>
                    </div>

                    <!-- Comparison with Current State -->
                    <div class="comparison-bar">
                        <div class="comparison-item">
                            <span class="comparison-label">Current Monthly Ads:</span>
                            <span class="comparison-value current">â‚¬12,000</span>
                        </div>
                        <div class="comparison-arrow">â†’</div>
                        <div class="comparison-item">
                            <span class="comparison-label">Your Selection:</span>
                            <span class="comparison-value new" id="comparisonNewValue">â‚¬20,000</span>
                        </div>
                        <div class="comparison-item delta">
                            <span class="comparison-label">Increase:</span>
                            <span class="comparison-value increase" id="comparisonIncrease">+67%</span>
                        </div>
                    </div>
                </div>

                <!-- Revenue Projection Chart -->
                <div class="metric-card mb-24">
                    <div class="chart-header" style="margin-bottom: 16px;">
                        <h4>Revenue vs Ad Spend Over Time</h4>
                        <p style="color: var(--text-muted); font-size: 0.85rem;">See how your ad investment translates to revenue growth</p>
                    </div>
                    <div id="chart-revenue-simulator" style="height: 350px;"></div>
                </div>

                <!-- Key Insights -->
                <div class="grid-3">
                    <div class="insight-card warning">
                        <div class="insight-icon">&#9888;</div>
                        <h5>Current Problem</h5>
                        <p>Paid ads have <strong>0.61x ROAS</strong> - we're losing â‚¬0.39 for every â‚¬1 spent. Must optimize before scaling.</p>
                    </div>
                    <div class="insight-card success">
                        <div class="insight-icon">&#10004;</div>
                        <h5>Recommendation</h5>
                        <p>Keep paid ads at <strong>40% of marketing</strong> (~â‚¬13k/mo). Prioritize affiliates (25%) which have 4x better CAC.</p>
                    </div>
                    <div class="insight-card info">
                        <div class="insight-icon">&#128161;</div>
                        <h5>Scale Strategy</h5>
                        <p>Once ROAS hits <strong>1.5x+</strong>, increase Google/Meta to 50% of budget. Scale what works, cut what doesn't.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ========================================== -->
        <!-- PAGE: 2026 BUDGET PLANNER -->
        <!-- ========================================== -->
        <section class="page" id="page-budget">
            <div class="page-header">
                <h1>2026 Marketing Budget Planner</h1>
                <p class="page-subtitle">Monthly allocation by channel</p>
            </div>

            <div class="page-content">
                <!-- Total Budget -->
                <div class="metric-card mb-24">
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>Total Annual Budget</span>
                            <span class="slider-value" id="annualBudgetValue">&#8364;420,000</span>
                        </div>
                        <input type="range" id="annualBudgetSlider" min="120000" max="1200000" value="420000" step="12000" oninput="updateBudgetPlanner()">
                    </div>
                </div>

                <!-- Monthly Budget Grid (H1) -->
                <h3 style="color: var(--text-secondary); margin-bottom: 16px;">H1 2026 - Monthly Budgets</h3>
                <div class="month-budget-grid mb-24">
                    <div class="month-budget-card">
                        <h5>January</h5>
                        <div class="budget-value" id="budget-jan">&#8364;35,000</div>
                    </div>
                    <div class="month-budget-card">
                        <h5>February</h5>
                        <div class="budget-value" id="budget-feb">&#8364;35,000</div>
                    </div>
                    <div class="month-budget-card">
                        <h5>March</h5>
                        <div class="budget-value" id="budget-mar">&#8364;35,000</div>
                    </div>
                    <div class="month-budget-card">
                        <h5>April</h5>
                        <div class="budget-value" id="budget-apr">&#8364;35,000</div>
                    </div>
                    <div class="month-budget-card">
                        <h5>May</h5>
                        <div class="budget-value" id="budget-may">&#8364;35,000</div>
                    </div>
                    <div class="month-budget-card">
                        <h5>June</h5>
                        <div class="budget-value" id="budget-jun">&#8364;35,000</div>
                    </div>
                </div>

                <!-- Channel Allocation Sliders -->
                <div class="grid-2 mb-24">
                    <div class="metric-card">
                        <h4 style="margin-bottom: 20px; color: var(--accent-blue);">Paid Advertising</h4>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Google Ads</span>
                                <span class="slider-value" id="budget-google">20%</span>
                            </div>
                            <input type="range" class="channel-slider" data-channel="google" min="0" max="40" value="20" oninput="updateChannelAllocation()">
                        </div>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Meta Ads</span>
                                <span class="slider-value" id="budget-meta">25%</span>
                            </div>
                            <input type="range" class="channel-slider" data-channel="meta" min="0" max="40" value="25" oninput="updateChannelAllocation()">
                        </div>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>TikTok Ads</span>
                                <span class="slider-value" id="budget-tiktok">15%</span>
                            </div>
                            <input type="range" class="channel-slider" data-channel="tiktok" min="0" max="40" value="15" oninput="updateChannelAllocation()">
                        </div>
                    </div>

                    <div class="metric-card">
                        <h4 style="margin-bottom: 20px; color: var(--accent-cyan);">Partnerships & Content</h4>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Affiliates</span>
                                <span class="slider-value" id="budget-affiliates">25%</span>
                            </div>
                            <input type="range" class="channel-slider" data-channel="affiliates" min="0" max="40" value="25" oninput="updateChannelAllocation()">
                        </div>
                        <div class="slider-container">
                            <div class="slider-label">
                                <span>Influencers</span>
                                <span class="slider-value" id="budget-influencers">15%</span>
                            </div>
                            <input type="range" class="channel-slider" data-channel="influencers" min="0" max="30" value="15" oninput="updateChannelAllocation()">
                        </div>
                        <div class="alert alert-success" style="margin-top: 16px;">
                            <strong>Total Allocated: <span id="totalAllocatedPercent">100%</span></strong>
                            <p>Monthly: <span id="monthlySpendAmount">&#8364;35,000</span></p>
                        </div>
                    </div>
                </div>

                <!-- Budget Distribution Chart -->
                <div class="chart-container fullscreen-enabled" onclick="openChartModal('Budget Distribution', 'budgetChart')">
                    <span class="fullscreen-hint">Preview</span>
                    <div class="chart-header">
                        <h3>Channel Budget Distribution</h3>
                    </div>
                    <div id="chart-budget-distribution" style="height: 400px;"></div>
                </div>
            </div>
        </section>

        <!-- ========================================== -->
        <!-- PAGE: USE OF FUNDS -->
        <!-- ========================================== -->
        <section class="page" id="page-usefunds">
            <div class="page-header">
                <h1>Use of Funds</h1>
                <p class="page-subtitle">&#8364;2M Investment Allocation</p>
            </div>

            <div class="page-content">
                <!-- Big Number -->
                <div class="metric-card mb-24" style="text-align: center; padding: 48px;">
                    <div class="metric-label">Series Seed Investment</div>
                    <div class="metric-value" style="font-size: 4rem; background: var(--gradient-success); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">&#8364;2,000,000</div>
                </div>

                <!-- Funds Grid -->
                <div class="funds-grid mb-24">
                    <div class="fund-card working-capital">
                        <div class="fund-percent">40%</div>
                        <div class="fund-amount">&#8364;800,000</div>
                        <div class="fund-label">Working Capital<br>(Trader Payouts)</div>
                        <div class="fund-bar">
                            <div class="fund-bar-fill" style="width: 40%; background: var(--accent-green);"></div>
                        </div>
                    </div>
                    <div class="fund-card marketing">
                        <div class="fund-percent">30%</div>
                        <div class="fund-amount">&#8364;600,000</div>
                        <div class="fund-label">Marketing &<br>Acquisition</div>
                        <div class="fund-bar">
                            <div class="fund-bar-fill" style="width: 30%; background: var(--accent-cyan);"></div>
                        </div>
                    </div>
                    <div class="fund-card team">
                        <div class="fund-percent">20%</div>
                        <div class="fund-amount">&#8364;400,000</div>
                        <div class="fund-label">Team &<br>Operations</div>
                        <div class="fund-bar">
                            <div class="fund-bar-fill" style="width: 20%; background: var(--accent-purple);"></div>
                        </div>
                    </div>
                    <div class="fund-card product">
                        <div class="fund-percent">10%</div>
                        <div class="fund-amount">&#8364;200,000</div>
                        <div class="fund-label">Product &<br>Technology</div>
                        <div class="fund-bar">
                            <div class="fund-bar-fill" style="width: 10%; background: var(--accent-yellow);"></div>
                        </div>
                    </div>
                </div>

                <!-- Visual Chart -->
                <div class="chart-container fullscreen-enabled" onclick="openChartModal('Use of Funds Breakdown', 'useOfFunds')">
                    <span class="fullscreen-hint">Preview</span>
                    <div class="chart-header">
                        <h3>Funds Allocation Breakdown</h3>
                    </div>
                    <div id="chart-use-of-funds" style="height: 400px;"></div>
                </div>
            </div>
        </section>

        <!-- ========================================== -->
        <!-- PAGE: BREAKEVEN CALCULATOR -->
        <!-- ========================================== -->
        <section class="page" id="page-breakeven">
            <div class="page-header">
                <h1>Breakeven Calculator</h1>
                <p class="page-subtitle">Interactive path to profitability</p>
            </div>

            <div class="page-content">
                <div class="grid-2">
                    <!-- Slider Panel -->
                    <div>
                        <div class="metric-card mb-24">
                            <h4 style="margin-bottom: 20px;">Adjust Parameters</h4>
                            <div class="slider-container">
                                <div class="slider-label">
                                    <span>Current Monthly Revenue</span>
                                    <span class="slider-value" id="be-revenue-val">&#8364;25,000</span>
                                </div>
                                <input type="range" id="be-revenue" min="10000" max="100000" value="25000" step="1000" oninput="updateBreakeven()">
                            </div>
                            <div class="slider-container">
                                <div class="slider-label">
                                    <span>Fixed Costs (Monthly)</span>
                                    <span class="slider-value" id="be-fixed-val">&#8364;100,000</span>
                                </div>
                                <input type="range" id="be-fixed" min="50000" max="200000" value="100000" step="5000" oninput="updateBreakeven()">
                            </div>
                            <div class="slider-container">
                                <div class="slider-label">
                                    <span>Payout Ratio</span>
                                    <span class="slider-value" id="be-payout-val">50%</span>
                                </div>
                                <input type="range" id="be-payout" min="20" max="80" value="50" oninput="updateBreakeven()">
                            </div>
                            <div class="slider-container">
                                <div class="slider-label">
                                    <span>Marketing Ratio</span>
                                    <span class="slider-value" id="be-marketing-val">15%</span>
                                </div>
                                <input type="range" id="be-marketing" min="5" max="30" value="15" oninput="updateBreakeven()">
                            </div>
                            <div class="slider-container">
                                <div class="slider-label">
                                    <span>Growth Rate</span>
                                    <span class="slider-value" id="be-growth-val">20%</span>
                                </div>
                                <input type="range" id="be-growth" min="5" max="40" value="20" oninput="updateBreakeven()">
                            </div>
                        </div>

                        <!-- Results -->
                        <div class="grid-2">
                            <div class="metric-card success">
                                <div class="metric-label">Breakeven Revenue</div>
                                <div class="metric-value success" id="be-result" style="font-size: 1.8rem;">&#8364;285,714</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-label">Months to Breakeven</div>
                                <div class="metric-value" id="be-months" style="font-size: 1.8rem;">Month 15</div>
                            </div>
                        </div>
                    </div>

                    <!-- Chart -->
                    <div class="chart-container fullscreen-enabled" onclick="openChartModal('Revenue vs Costs', 'breakevenChart')">
                        <span class="fullscreen-hint">Preview</span>
                        <div class="chart-title">Revenue vs Costs Analysis</div>
                        <div id="chart-breakeven" style="height: 500px;"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ========================================== -->
        <!-- PAGE: CHANNEL DEEP DIVE (Cumulative Aug-Dec) -->
        <!-- ========================================== -->
        <section class="page" id="page-channels">
            <div class="page-header">
                <h1>Channel Deep Dive</h1>
                <p class="page-subtitle">August - December 2025 Cumulative Performance</p>
            </div>

            <div class="page-content">
                <!-- Key Metrics -->
                <div class="grid-4 mb-24">
                    <div class="metric-card success">
                        <div class="metric-label">Total Revenue (Aug-Dec)</div>
                        <div class="metric-value success">&#8364;80,000</div>
                    </div>
                    <div class="metric-card danger">
                        <div class="metric-label">Total Ad Spend</div>
                        <div class="metric-value danger">&#8364;47,800</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Total Customers</div>
                        <div class="metric-value">355</div>
                    </div>
                    <div class="metric-card warning">
                        <div class="metric-label">Blended CAC</div>
                        <div class="metric-value warning">&#8364;135</div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="grid-2 mb-24">
                    <div class="chart-container fullscreen-enabled" onclick="openChartModal('Cumulative Revenue by Channel', 'channelRevenue')">
                        <span class="fullscreen-hint">Preview</span>
                        <div class="chart-title">Cumulative Revenue by Channel (Aug-Dec)</div>
                        <div id="chart-channel-revenue" style="height: 400px;"></div>
                    </div>
                    <div class="chart-container fullscreen-enabled" onclick="openChartModal('CAC vs ARPU Analysis', 'cacArpu')">
                        <span class="fullscreen-hint">Preview</span>
                        <div class="chart-title">CAC vs ARPU (Bubble = Revenue)</div>
                        <div id="chart-cac-arpu" style="height: 400px;"></div>
                    </div>
                </div>

                <!-- Performance Table -->
                <div class="metric-card">
                    <h4 style="margin-bottom: 16px;">Channel Performance Summary (Aug-Dec Cumulative)</h4>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Channel</th>
                                <th>Revenue</th>
                                <th>Cost</th>
                                <th>CAC</th>
                                <th>Customers</th>
                                <th>ROI</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Organic/Direct</td>
                                <td>&#8364;33,800</td>
                                <td>&#8364;0</td>
                                <td>&#8364;0</td>
                                <td>148</td>
                                <td class="cell-success">Infinite</td>
                                <td><span style="background: rgba(16,185,129,0.2); color: var(--accent-green); padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">Excellent</span></td>
                            </tr>
                            <tr>
                                <td>Affiliates</td>
                                <td>&#8364;24,940</td>
                                <td>&#8364;6,240</td>
                                <td>&#8364;56</td>
                                <td>112</td>
                                <td class="cell-success">3.0x</td>
                                <td><span style="background: rgba(16,185,129,0.2); color: var(--accent-green); padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">Strong</span></td>
                            </tr>
                            <tr>
                                <td>Email</td>
                                <td>&#8364;9,260</td>
                                <td>&#8364;160</td>
                                <td>&#8364;4</td>
                                <td>40</td>
                                <td class="cell-success">57.9x</td>
                                <td><span style="background: rgba(16,185,129,0.2); color: var(--accent-green); padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">Excellent</span></td>
                            </tr>
                            <tr>
                                <td>Influencers</td>
                                <td>&#8364;7,000</td>
                                <td>&#8364;3,500</td>
                                <td>&#8364;117</td>
                                <td>30</td>
                                <td class="cell-warning">2.0x</td>
                                <td><span style="background: rgba(245,158,11,0.2); color: var(--accent-yellow); padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">Monitor</span></td>
                            </tr>
                            <tr>
                                <td>Paid Ads</td>
                                <td>&#8364;5,000</td>
                                <td>&#8364;37,900</td>
                                <td>&#8364;1,516</td>
                                <td>25</td>
                                <td class="cell-danger">0.13x</td>
                                <td><span style="background: rgba(239,68,68,0.2); color: var(--accent-red); padding: 4px 8px; border-radius: 4px; font-size: 0.8rem;">Critical</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- ========================================== -->
        <!-- PAGE: COSTS BREAKDOWN -->
        <!-- ========================================== -->
        <section class="page" id="page-costs">
            <div class="page-header">
                <h1>Current Subscriptions & Costs</h1>
                <p class="page-subtitle">Monthly operational expenses breakdown</p>
            </div>

            <div class="page-content">
                <!-- Summary Metrics -->
                <div class="grid-4 mb-24">
                    <div class="metric-card danger">
                        <div class="metric-label">Total Monthly Costs</div>
                        <div class="metric-value">&#8364;100,000</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Team & Salaries</div>
                        <div class="metric-value">&#8364;80,000</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Infrastructure</div>
                        <div class="metric-value">&#8364;12,000</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Tools & Services</div>
                        <div class="metric-value">&#8364;8,000</div>
                    </div>
                </div>

                <div class="grid-2">
                    <!-- Cost List -->
                    <div class="metric-card">
                        <h4 style="margin-bottom: 20px;">Monthly Subscriptions</h4>

                        <div class="cost-item">
                            <div class="cost-info">
                                <div class="cost-icon">&#128187;</div>
                                <div>
                                    <div class="cost-name">AWS / Cloud Infrastructure</div>
                                    <div class="cost-category">Infrastructure</div>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div class="cost-amount">&#8364;8,000</div>
                                <div class="cost-period">/month</div>
                            </div>
                        </div>

                        <div class="cost-item">
                            <div class="cost-info">
                                <div class="cost-icon">&#128202;</div>
                                <div>
                                    <div class="cost-name">Trading Platform Licenses</div>
                                    <div class="cost-category">Platform</div>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div class="cost-amount">&#8364;3,000</div>
                                <div class="cost-period">/month</div>
                            </div>
                        </div>

                        <div class="cost-item">
                            <div class="cost-info">
                                <div class="cost-icon">&#128231;</div>
                                <div>
                                    <div class="cost-name">Email & Marketing Tools</div>
                                    <div class="cost-category">Marketing</div>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div class="cost-amount">&#8364;1,500</div>
                                <div class="cost-period">/month</div>
                            </div>
                        </div>

                        <div class="cost-item">
                            <div class="cost-info">
                                <div class="cost-icon">&#128274;</div>
                                <div>
                                    <div class="cost-name">Security & Compliance</div>
                                    <div class="cost-category">Operations</div>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div class="cost-amount">&#8364;2,000</div>
                                <div class="cost-period">/month</div>
                            </div>
                        </div>

                        <div class="cost-item">
                            <div class="cost-info">
                                <div class="cost-icon">&#128176;</div>
                                <div>
                                    <div class="cost-name">Payment Processing</div>
                                    <div class="cost-category">Operations</div>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div class="cost-amount">&#8364;1,500</div>
                                <div class="cost-period">/month</div>
                            </div>
                        </div>

                        <div class="cost-item">
                            <div class="cost-info">
                                <div class="cost-icon">&#128736;</div>
                                <div>
                                    <div class="cost-name">Dev Tools & Services</div>
                                    <div class="cost-category">Engineering</div>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div class="cost-amount">&#8364;1,000</div>
                                <div class="cost-period">/month</div>
                            </div>
                        </div>
                    </div>

                    <!-- Cost Chart -->
                    <div class="chart-container fullscreen-enabled" onclick="openChartModal('Cost Breakdown', 'costsChart')">
                        <span class="fullscreen-hint">Preview</span>
                        <div class="chart-title">Cost Distribution</div>
                        <div id="chart-costs" style="height: 450px;"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ========================================== -->
        <!-- PAGE: TIMELINE / MILESTONES -->
        <!-- ========================================== -->
        <section class="page" id="page-timeline">
            <div class="page-header">
                <h1>2026 Milestones</h1>
                <p class="page-subtitle">Key targets and deliverables</p>
            </div>

            <div class="page-content">
                <!-- Timeline Visualization -->
                <div class="metric-card mb-24">
                    <h4 style="margin-bottom: 24px;">Product & Growth Roadmap</h4>
                    <div class="timeline-container">
                        <div class="timeline-line">
                            <div class="timeline-progress" style="width: 10%;"></div>
                        </div>
                        <div class="timeline-items">
                            <div class="timeline-item">
                                <div class="timeline-dot completed"></div>
                                <div class="timeline-date">Q4 2025</div>
                                <div class="timeline-title">Launch</div>
                                <div class="timeline-desc">Platform live, initial customers</div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-dot active"></div>
                                <div class="timeline-date">Q1 2026</div>
                                <div class="timeline-title">Futures Launch</div>
                                <div class="timeline-desc">New product line</div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-dot"></div>
                                <div class="timeline-date">Q2 2026</div>
                                <div class="timeline-title">Scale Affiliates</div>
                                <div class="timeline-desc">2x referral revenue</div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-dot"></div>
                                <div class="timeline-date">Q3 2026</div>
                                <div class="timeline-title">1000 Customers</div>
                                <div class="timeline-desc">Major milestone</div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-dot"></div>
                                <div class="timeline-date">Q4 2026</div>
                                <div class="timeline-title">Breakeven</div>
                                <div class="timeline-desc">Sustainable operations</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Milestone Cards -->
                <div class="grid-3 mb-24">
                    <div class="metric-card success">
                        <div class="metric-label">Q1 2026 Target</div>
                        <div class="metric-value">&#8364;45k</div>
                        <div class="metric-sublabel">Monthly Revenue</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Q2 2026 Target</div>
                        <div class="metric-value">&#8364;80k</div>
                        <div class="metric-sublabel">Monthly Revenue</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Q4 2026 Target</div>
                        <div class="metric-value">&#8364;150k</div>
                        <div class="metric-sublabel">Monthly Revenue</div>
                    </div>
                </div>

                <!-- Growth Projection Chart -->
                <div class="chart-container fullscreen-enabled" onclick="openChartModal('2026 Growth Projection', 'projectionChart')">
                    <span class="fullscreen-hint">Preview</span>
                    <div class="chart-header">
                        <h3>2026 Revenue & Profit Projection</h3>
                    </div>
                    <div id="chart-projection" style="height: 450px;"></div>
                </div>
            </div>
        </section>

    </main>

    <!-- ========================================== -->
    <!-- JAVASCRIPT -->
    <!-- ========================================== -->
    <script>
        // =====================================================
        // GLOBAL VARIABLES
        // =====================================================
        const colors = {
            primary: '#3b82f6',
            success: '#10b981',
            warning: '#f59e0b',
            danger: '#ef4444',
            cyan: '#06b6d4',
            purple: '#8b5cf6',
            gray: '#6b7280'
        };

        let charts = {};
        let currentFundingScenario = 2000000;

        // =====================================================
        // NAVIGATION
        // =====================================================
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            const targetPage = document.getElementById('page-' + pageId);
            if (targetPage) targetPage.classList.add('active');

            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.page === pageId) item.classList.add('active');
            });

            if (window.innerWidth <= 768) closeSidebar();
            setTimeout(() => initChartsForPage(pageId), 100);
        }

        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
            document.getElementById('sidebarOverlay').classList.toggle('active');
        }

        function closeSidebar() {
            document.getElementById('sidebar').classList.remove('open');
            document.getElementById('sidebarOverlay').classList.remove('active');
        }

        function togglePanel(panelId) {
            document.getElementById(panelId)?.classList.toggle('collapsed');
        }

        // =====================================================
        // FULLSCREEN MODAL
        // =====================================================
        let modalChart = null;

        function openChartModal(title, chartType) {
            event.stopPropagation();
            document.getElementById('chartModal').classList.add('active');
            document.getElementById('modalTitle').textContent = title;
            document.body.style.overflow = 'hidden';

            setTimeout(() => renderModalChart(chartType), 100);
        }

        function closeChartModal() {
            document.getElementById('chartModal').classList.remove('active');
            document.body.style.overflow = '';
            if (modalChart) {
                modalChart.destroy();
                modalChart = null;
            }
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeChartModal();
        });

        function renderModalChart(chartType) {
            const container = document.getElementById('modalChart');
            container.innerHTML = '';

            const chartConfigs = {
                executivePie: getExecutivePieConfig(true),
                executiveBar: getExecutiveBarConfig(true),
                revenueProgression: getRevenueProgressionConfig(true),
                customerGrowth: getCustomerGrowthConfig(true),
                growthMain: getGrowthMainConfig(true),
                fundingBalance: getFundingBalanceConfig(true),
                scenarioComparison: getScenarioComparisonConfig(true),
                budgetChart: getBudgetChartConfig(true),
                useOfFunds: getUseOfFundsConfig(true),
                breakevenChart: getBreakevenChartConfig(true),
                channelRevenue: getChannelRevenueConfig(true),
                cacArpu: getCacArpuConfig(true),
                costsChart: getCostsChartConfig(true),
                projectionChart: getProjectionChartConfig(true),
                adBudgetChart: getAdBudgetChartConfig(true)
            };

            if (chartConfigs[chartType]) {
                modalChart = new ApexCharts(container, chartConfigs[chartType]);
                modalChart.render();
            }
        }

        // =====================================================
        // CHART CONFIGURATIONS
        // =====================================================
        function getExecutivePieConfig(fullscreen = false) {
            return {
                series: [42000, 11000, 5800, 14500],
                labels: ['Organic + Direct', 'Affiliates', 'Email', 'Paid Ads'],
                chart: { type: 'donut', height: fullscreen ? '100%' : 380, background: 'transparent', foreColor: '#a0aec0' },
                colors: [colors.success, colors.cyan, colors.purple, colors.warning],
                plotOptions: { pie: { donut: { size: '65%', labels: { show: true, total: { show: true, label: 'Total', formatter: () => 'â‚¬73.3k' } } } } },
                dataLabels: { enabled: fullscreen },
                legend: { position: 'bottom', labels: { colors: '#a0aec0' } },
                stroke: { show: false },
                tooltip: { theme: 'dark' }
            };
        }

        function getExecutiveBarConfig(fullscreen = false) {
            return {
                series: [{ name: 'Cost', data: [80000, 20000, 12000, 50000] }],
                chart: { type: 'bar', height: fullscreen ? '100%' : 380, background: 'transparent', foreColor: '#a0aec0', toolbar: { show: false } },
                colors: [colors.primary, colors.cyan, colors.warning, colors.danger],
                plotOptions: { bar: { horizontal: true, borderRadius: 6, distributed: true } },
                dataLabels: { enabled: true, formatter: val => 'â‚¬' + (val/1000) + 'k', style: { colors: ['#f0f0f5'] }, offsetX: 10 },
                xaxis: { categories: ['Team', 'Server', 'Ads', 'Payouts'], labels: { style: { colors: '#a0aec0' }, formatter: val => 'â‚¬' + (val/1000) + 'k' } },
                yaxis: { labels: { style: { colors: '#a0aec0' } } },
                grid: { borderColor: 'rgba(255,255,255,0.05)' },
                legend: { show: false },
                tooltip: { theme: 'dark' }
            };
        }

        function getRevenueProgressionConfig(fullscreen = false) {
            return {
                series: [{
                    name: 'Revenue',
                    data: [8000, 12000, 15000, 20000, 25000]
                }, {
                    name: 'Cumulative',
                    data: [8000, 20000, 35000, 55000, 80000]
                }],
                chart: { type: 'line', height: fullscreen ? '100%' : 450, background: 'transparent', foreColor: '#a0aec0', toolbar: { show: true } },
                colors: [colors.primary, colors.success],
                stroke: { width: [3, 3], curve: 'smooth', dashArray: [0, 5] },
                markers: { size: [6, 0] },
                xaxis: { categories: ['Aug', 'Sep', 'Oct', 'Nov', 'Dec'], labels: { style: { colors: '#a0aec0' } } },
                yaxis: { labels: { style: { colors: '#a0aec0' }, formatter: val => 'â‚¬' + (val/1000).toFixed(0) + 'k' } },
                grid: { borderColor: 'rgba(255,255,255,0.05)' },
                legend: { position: 'top', labels: { colors: '#a0aec0' } },
                tooltip: { theme: 'dark' },
                annotations: {
                    points: [{
                        x: 'Dec',
                        y: 25000,
                        marker: { size: 8, fillColor: colors.success },
                        label: { text: 'â‚¬25k', style: { background: colors.success, color: '#fff' } }
                    }]
                }
            };
        }

        function getCustomerGrowthConfig(fullscreen = false) {
            return {
                series: [{
                    name: 'Customers',
                    type: 'column',
                    data: [36, 53, 67, 89, 111]
                }, {
                    name: 'Revenue',
                    type: 'line',
                    data: [8000, 12000, 15000, 20000, 25000]
                }],
                chart: { height: fullscreen ? '100%' : 400, type: 'line', background: 'transparent', foreColor: '#a0aec0' },
                colors: [colors.cyan, colors.success],
                stroke: { width: [0, 3], curve: 'smooth' },
                plotOptions: { bar: { borderRadius: 6, columnWidth: '50%' } },
                xaxis: { categories: ['Aug', 'Sep', 'Oct', 'Nov', 'Dec'], labels: { style: { colors: '#a0aec0' } } },
                yaxis: [
                    { title: { text: 'Customers', style: { color: colors.cyan } }, labels: { style: { colors: colors.cyan } } },
                    { opposite: true, title: { text: 'Revenue', style: { color: colors.success } }, labels: { style: { colors: colors.success }, formatter: val => 'â‚¬' + (val/1000) + 'k' } }
                ],
                grid: { borderColor: 'rgba(255,255,255,0.05)' },
                legend: { position: 'top', labels: { colors: '#a0aec0' } },
                tooltip: { theme: 'dark' }
            };
        }

        function getGrowthMainConfig(fullscreen = false) {
            const months = Array.from({length: 24}, (_, i) => 'M' + (i + 1));
            let customers = 111, revenue = 25000;
            const customersData = [], revenueData = [];
            for (let i = 0; i < 24; i++) {
                customersData.push(Math.round(customers));
                revenueData.push(Math.round(revenue));
                customers *= 1.2;
                revenue *= 1.2;
            }
            return {
                series: [
                    { name: 'Customers', type: 'column', data: customersData },
                    { name: 'Revenue', type: 'line', data: revenueData }
                ],
                chart: { height: fullscreen ? '100%' : 450, type: 'line', background: 'transparent', foreColor: '#a0aec0', toolbar: { show: true } },
                colors: [colors.cyan, colors.success],
                stroke: { width: [0, 3], curve: 'smooth' },
                plotOptions: { bar: { borderRadius: 4, columnWidth: '60%' } },
                xaxis: { categories: months, labels: { style: { colors: '#a0aec0' } } },
                yaxis: [
                    { title: { text: 'Customers', style: { color: colors.cyan } }, labels: { style: { colors: colors.cyan } } },
                    { opposite: true, title: { text: 'Revenue', style: { color: colors.success } }, labels: { style: { colors: colors.success }, formatter: val => 'â‚¬' + (val/1000).toFixed(0) + 'k' } }
                ],
                grid: { borderColor: 'rgba(255,255,255,0.05)' },
                legend: { position: 'top', labels: { colors: '#a0aec0' } },
                tooltip: { theme: 'dark' }
            };
        }

        function getFundingBalanceConfig(fullscreen = false) {
            const months = Array.from({length: 24}, (_, i) => 'M' + (i + 1));
            const funding = currentFundingScenario;
            const balances = [];
            let bank = 1000000 + funding, revenue = 25000;
            for (let i = 0; i < 24; i++) {
                bank += revenue - (100000 + revenue * 0.65);
                balances.push(Math.round(bank));
                revenue *= 1.2;
            }
            return {
                series: [{ name: 'Bank Balance', data: balances }],
                chart: { type: 'area', height: fullscreen ? '100%' : 400, background: 'transparent', foreColor: '#a0aec0', toolbar: { show: false } },
                colors: [colors.success],
                fill: { type: 'gradient', gradient: { shadeIntensity: 1, opacityFrom: 0.7, opacityTo: 0.2 } },
                stroke: { width: 3, curve: 'smooth' },
                xaxis: { categories: months, labels: { style: { colors: '#a0aec0' } } },
                yaxis: { labels: { style: { colors: '#a0aec0' }, formatter: val => 'â‚¬' + (val/1000000).toFixed(1) + 'M' } },
                grid: { borderColor: 'rgba(255,255,255,0.05)' },
                tooltip: { theme: 'dark' },
                annotations: { yaxis: [{ y: 0, borderColor: colors.danger, strokeDashArray: 5 }] }
            };
        }

        function getScenarioComparisonConfig(fullscreen = false) {
            const months = Array.from({length: 24}, (_, i) => 'M' + (i + 1));
            function calcBalance(funding, growth = 0.2) {
                const balances = [];
                let bank = 1000000 + funding, revenue = 25000;
                for (let i = 0; i < 24; i++) {
                    bank += revenue - (100000 + revenue * 0.65);
                    balances.push(Math.round(bank));
                    revenue *= (1 + growth);
                }
                return balances;
            }
            return {
                series: [
                    { name: 'No Funding', data: calcBalance(0, 0.15) },
                    { name: 'â‚¬1M', data: calcBalance(1000000, 0.15) },
                    { name: 'â‚¬2M (Recommended)', data: calcBalance(2000000, 0.20) },
                    { name: 'â‚¬5M', data: calcBalance(5000000, 0.30) }
                ],
                chart: { type: 'line', height: fullscreen ? '100%' : 400, background: 'transparent', foreColor: '#a0aec0', toolbar: { show: false } },
                colors: [colors.gray, colors.warning, colors.success, colors.primary],
                stroke: { width: [2, 2, 3, 2], curve: 'smooth', dashArray: [5, 0, 0, 0] },
                xaxis: { categories: months, labels: { style: { colors: '#a0aec0' } } },
                yaxis: { labels: { style: { colors: '#a0aec0' }, formatter: val => 'â‚¬' + (val/1000000).toFixed(1) + 'M' } },
                grid: { borderColor: 'rgba(255,255,255,0.05)' },
                legend: { position: 'top', labels: { colors: '#a0aec0' } },
                tooltip: { theme: 'dark' },
                annotations: { yaxis: [{ y: 0, borderColor: colors.danger, strokeDashArray: 5, label: { text: 'Zero Balance', style: { color: '#fff', background: colors.danger } } }] }
            };
        }

        function getBudgetChartConfig(fullscreen = false) {
            return {
                series: [20, 25, 15, 25, 15],
                labels: ['Google Ads', 'Meta Ads', 'TikTok', 'Affiliates', 'Influencers'],
                chart: { type: 'donut', height: fullscreen ? '100%' : 400, background: 'transparent' },
                colors: [colors.primary, colors.purple, '#ec4899', colors.success, colors.warning],
                stroke: { width: 0 },
                dataLabels: { enabled: true },
                legend: { position: 'right', fontSize: '12px', labels: { colors: '#a0aec0' } },
                plotOptions: { pie: { donut: { size: '55%', labels: { show: true, total: { show: true, label: 'Monthly', color: '#a0aec0', formatter: () => 'â‚¬35k' } } } } },
                tooltip: { theme: 'dark' }
            };
        }

        function getUseOfFundsConfig(fullscreen = false) {
            return {
                series: [40, 30, 20, 10],
                labels: ['Working Capital', 'Marketing', 'Team & Ops', 'Product'],
                chart: { type: 'donut', height: fullscreen ? '100%' : 400, background: 'transparent' },
                colors: [colors.success, colors.cyan, colors.purple, colors.warning],
                stroke: { width: 0 },
                dataLabels: { enabled: true, formatter: (val, opts) => 'â‚¬' + [800, 600, 400, 200][opts.seriesIndex] + 'k' },
                legend: { position: 'right', fontSize: '14px', labels: { colors: '#a0aec0' } },
                plotOptions: { pie: { donut: { size: '60%', labels: { show: true, total: { show: true, label: 'Total', color: '#a0aec0', formatter: () => 'â‚¬2M' } } } } },
                tooltip: { theme: 'dark' }
            };
        }

        function getBreakevenChartConfig(fullscreen = false) {
            const revenue = parseInt(document.getElementById('be-revenue')?.value || 25000);
            const fixed = parseInt(document.getElementById('be-fixed')?.value || 100000);
            const payout = parseInt(document.getElementById('be-payout')?.value || 50) / 100;
            const marketing = parseInt(document.getElementById('be-marketing')?.value || 15) / 100;
            const growth = parseInt(document.getElementById('be-growth')?.value || 20) / 100;

            const revenuePoints = [], costPoints = [], months = [];
            let rev = revenue;
            for (let i = 0; i < 24; i++) {
                months.push('M' + (i + 1));
                revenuePoints.push(Math.round(rev));
                costPoints.push(Math.round(fixed + rev * (payout + marketing)));
                rev *= (1 + growth);
            }

            return {
                series: [
                    { name: 'Revenue', data: revenuePoints },
                    { name: 'Total Costs', data: costPoints }
                ],
                chart: { height: fullscreen ? '100%' : 500, type: 'line', background: 'transparent', toolbar: { show: false } },
                colors: [colors.success, colors.danger],
                stroke: { width: 3, curve: 'smooth' },
                xaxis: { categories: months, labels: { style: { colors: '#a0aec0' } } },
                yaxis: { labels: { style: { colors: '#a0aec0' }, formatter: val => 'â‚¬' + (val/1000).toFixed(0) + 'k' } },
                grid: { borderColor: 'rgba(255,255,255,0.05)' },
                legend: { labels: { colors: '#a0aec0' } },
                tooltip: { theme: 'dark' }
            };
        }

        function getChannelRevenueConfig(fullscreen = false) {
            return {
                series: [{ name: 'Revenue (Aug-Dec)', data: [33800, 24940, 9260, 7000, 5000] }],
                chart: { type: 'bar', height: fullscreen ? '100%' : 400, background: 'transparent', toolbar: { show: false } },
                plotOptions: { bar: { horizontal: true, borderRadius: 6, distributed: true } },
                colors: [colors.success, colors.success, colors.success, colors.warning, colors.danger],
                dataLabels: { enabled: true, formatter: val => 'â‚¬' + (val/1000).toFixed(1) + 'k', style: { colors: ['#f0f0f5'] } },
                xaxis: { categories: ['Organic/Direct', 'Affiliates', 'Email', 'Influencers', 'Paid Ads'], labels: { style: { colors: '#a0aec0' } } },
                yaxis: { labels: { style: { colors: '#a0aec0' } } },
                grid: { borderColor: 'rgba(255,255,255,0.05)' },
                legend: { show: false },
                tooltip: { theme: 'dark' }
            };
        }

        function getCacArpuConfig(fullscreen = false) {
            return {
                series: [{
                    name: 'Channels',
                    data: [
                        { x: 0, y: 228, z: 33800 },
                        { x: 56, y: 223, z: 24940 },
                        { x: 4, y: 232, z: 9260 },
                        { x: 117, y: 233, z: 7000 },
                        { x: 1516, y: 200, z: 5000 }
                    ]
                }],
                chart: { type: 'bubble', height: fullscreen ? '100%' : 400, background: 'transparent', toolbar: { show: false } },
                colors: [colors.primary],
                dataLabels: { enabled: false },
                xaxis: { title: { text: 'CAC (â‚¬)', style: { color: '#a0aec0' } }, labels: { style: { colors: '#a0aec0' } }, min: -50, max: 300 },
                yaxis: { title: { text: 'ARPU (â‚¬)', style: { color: '#a0aec0' } }, labels: { style: { colors: '#a0aec0' } }, min: 180, max: 250 },
                grid: { borderColor: 'rgba(255,255,255,0.05)' },
                tooltip: { theme: 'dark' }
            };
        }

        function getCostsChartConfig(fullscreen = false) {
            return {
                series: [80000, 8000, 3000, 2000, 1500, 1500, 1000, 3000],
                labels: ['Team & Salaries', 'AWS/Cloud', 'Trading Licenses', 'Security', 'Email Tools', 'Payments', 'Dev Tools', 'Other'],
                chart: { type: 'donut', height: fullscreen ? '100%' : 450, background: 'transparent' },
                colors: [colors.primary, colors.cyan, colors.purple, colors.warning, colors.success, '#ec4899', colors.gray, '#6366f1'],
                stroke: { width: 0 },
                dataLabels: { enabled: true },
                legend: { position: 'right', fontSize: '12px', labels: { colors: '#a0aec0' } },
                plotOptions: { pie: { donut: { size: '60%', labels: { show: true, total: { show: true, label: 'Total', color: '#a0aec0', formatter: () => 'â‚¬100k/mo' } } } } },
                tooltip: { theme: 'dark' }
            };
        }

        function getProjectionChartConfig(fullscreen = false) {
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            const revenues = [], profits = [];
            let rev = 30000;
            for (let i = 0; i < 12; i++) {
                revenues.push(Math.round(rev));
                profits.push(Math.round(rev - rev * 0.65 - 100000));
                rev *= 1.15;
            }
            return {
                series: [
                    { name: 'Revenue', type: 'column', data: revenues },
                    { name: 'Net Profit', type: 'line', data: profits }
                ],
                chart: { height: fullscreen ? '100%' : 450, type: 'line', background: 'transparent', toolbar: { show: false } },
                colors: [colors.primary, colors.success],
                stroke: { width: [0, 3], curve: 'smooth' },
                plotOptions: { bar: { borderRadius: 6, columnWidth: '60%' } },
                xaxis: { categories: months, labels: { style: { colors: '#a0aec0' } } },
                yaxis: [
                    { title: { text: 'Revenue', style: { color: colors.primary } }, labels: { style: { colors: '#a0aec0' }, formatter: val => 'â‚¬' + (val/1000).toFixed(0) + 'k' } },
                    { opposite: true, title: { text: 'Profit/Loss', style: { color: colors.success } }, labels: { style: { colors: '#a0aec0' }, formatter: val => 'â‚¬' + (val/1000).toFixed(0) + 'k' } }
                ],
                grid: { borderColor: 'rgba(255,255,255,0.05)' },
                legend: { labels: { colors: '#a0aec0' } },
                tooltip: { theme: 'dark' },
                annotations: { yaxis: [{ y: 0, yAxisIndex: 1, borderColor: colors.success, strokeDashArray: 5, label: { text: 'Breakeven', style: { color: '#fff', background: colors.success } } }] }
            };
        }

        // =====================================================
        // INIT CHARTS FOR PAGE
        // =====================================================
        function initChartsForPage(pageId) {
            switch(pageId) {
                case 'executive':
                    renderChart('chart-executive-pie', getExecutivePieConfig(), 'executivePie');
                    renderChart('chart-executive-bar', getExecutiveBarConfig(), 'executiveBar');
                    break;
                case 'revenue':
                    renderChart('chart-revenue-progression', getRevenueProgressionConfig(), 'revenueProgression');
                    renderChart('chart-customer-growth', getCustomerGrowthConfig(), 'customerGrowth');
                    break;
                case 'growth':
                    renderChart('chart-growth-main', getGrowthMainConfig(), 'growthMain');
                    break;
                case 'funding':
                    renderChart('chart-funding-balance', getFundingBalanceConfig(), 'fundingBalance');
                    renderChart('chart-scenario-comparison', getScenarioComparisonConfig(), 'scenarioComparison');
                    break;
                case 'budget':
                    renderChart('chart-budget-distribution', getBudgetChartConfig(), 'budgetChart');
                    break;
                case 'usefunds':
                    renderChart('chart-use-of-funds', getUseOfFundsConfig(), 'useOfFunds');
                    break;
                case 'breakeven':
                    renderChart('chart-breakeven', getBreakevenChartConfig(), 'breakevenChart');
                    break;
                case 'channels':
                    renderChart('chart-channel-revenue', getChannelRevenueConfig(), 'channelRevenue');
                    renderChart('chart-cac-arpu', getCacArpuConfig(), 'cacArpu');
                    break;
                case 'costs':
                    renderChart('chart-costs', getCostsChartConfig(), 'costsChart');
                    break;
                case 'timeline':
                    renderChart('chart-projection', getProjectionChartConfig(), 'projectionChart');
                    break;
            }
        }

        function renderChart(containerId, config, chartKey) {
            const container = document.getElementById(containerId);
            if (!container) return;
            if (charts[chartKey]) charts[chartKey].destroy();
            charts[chartKey] = new ApexCharts(container, config);
            charts[chartKey].render();
        }

        // =====================================================
        // FUNDING SCENARIO TOGGLE
        // =====================================================
        function selectFundingScenario(amount) {
            currentFundingScenario = amount;

            // Update toggle buttons
            document.querySelectorAll('#fundingToggle .toggle-btn').forEach(btn => {
                btn.classList.remove('active');
                if (parseInt(btn.dataset.funding) === amount) btn.classList.add('active');
            });

            // Update metrics
            const scenarios = {
                0: { capital: 'â‚¬1M', runway: '10 months', breakeven: 'Never', final: '-â‚¬200k' },
                1000000: { capital: 'â‚¬2M', runway: '14 months', breakeven: 'M22', final: 'â‚¬1.28M' },
                2000000: { capital: 'â‚¬3M', runway: '18 months', breakeven: 'M15', final: 'â‚¬2.28M' },
                5000000: { capital: 'â‚¬6M', runway: '36+ months', breakeven: 'M10', final: 'â‚¬5.28M' }
            };

            const s = scenarios[amount];
            document.getElementById('funding-capital').textContent = s.capital;
            document.getElementById('funding-runway').textContent = s.runway;
            document.getElementById('funding-breakeven').textContent = s.breakeven;
            document.getElementById('funding-final').textContent = s.final;

            // Update chart
            renderChart('chart-funding-balance', getFundingBalanceConfig(), 'fundingBalance');
        }

        // =====================================================
        // BUDGET PLANNER
        // =====================================================
        function updateBudgetPlanner() {
            const annual = parseInt(document.getElementById('annualBudgetSlider').value);
            const monthly = Math.round(annual / 12);
            document.getElementById('annualBudgetValue').textContent = 'â‚¬' + annual.toLocaleString();

            ['jan', 'feb', 'mar', 'apr', 'may', 'jun'].forEach(month => {
                document.getElementById('budget-' + month).textContent = 'â‚¬' + monthly.toLocaleString();
            });

            document.getElementById('monthlySpendAmount').textContent = 'â‚¬' + monthly.toLocaleString();
        }

        function updateChannelAllocation() {
            const channels = ['google', 'meta', 'tiktok', 'affiliates', 'influencers'];
            let total = 0;

            channels.forEach(ch => {
                const slider = document.querySelector(`[data-channel="${ch}"]`);
                if (slider) {
                    const val = parseInt(slider.value);
                    total += val;
                    document.getElementById('budget-' + ch).textContent = val + '%';
                }
            });

            document.getElementById('totalAllocatedPercent').textContent = total + '%';

            if (charts.budgetChart) {
                const values = channels.map(ch => parseInt(document.querySelector(`[data-channel="${ch}"]`)?.value || 0));
                charts.budgetChart.updateSeries(values);
            }
        }

        // =====================================================
        // BREAKEVEN CALCULATOR
        // =====================================================
        function updateBreakeven() {
            const revenue = parseInt(document.getElementById('be-revenue').value);
            const fixed = parseInt(document.getElementById('be-fixed').value);
            const payout = parseInt(document.getElementById('be-payout').value) / 100;
            const marketing = parseInt(document.getElementById('be-marketing').value) / 100;
            const growth = parseInt(document.getElementById('be-growth').value) / 100;

            document.getElementById('be-revenue-val').textContent = 'â‚¬' + revenue.toLocaleString();
            document.getElementById('be-fixed-val').textContent = 'â‚¬' + fixed.toLocaleString();
            document.getElementById('be-payout-val').textContent = (payout * 100) + '%';
            document.getElementById('be-marketing-val').textContent = (marketing * 100) + '%';
            document.getElementById('be-growth-val').textContent = (growth * 100) + '%';

            const contributionMargin = 1 - payout - marketing;
            const breakevenRev = fixed / contributionMargin;
            document.getElementById('be-result').textContent = 'â‚¬' + Math.round(breakevenRev).toLocaleString();

            // Calculate months to breakeven
            let rev = revenue, months = 0;
            while (rev < breakevenRev && months < 36) {
                rev *= (1 + growth);
                months++;
            }
            document.getElementById('be-months').textContent = months < 36 ? 'Month ' + months : 'Never';

            // Update chart
            renderChart('chart-breakeven', getBreakevenChartConfig(), 'breakevenChart');
        }

        // =====================================================
        // AD BUDGET CALCULATOR
        // =====================================================
        let currentAdBudgetFunding = 2000000;

        function updateAdBudgetCalculator(funding) {
            currentAdBudgetFunding = funding;

            // Update toggle buttons
            document.querySelectorAll('#adBudgetFundingToggle .funding-toggle-btn').forEach(btn => {
                btn.classList.remove('active');
                if (parseInt(btn.dataset.funding) === funding) btn.classList.add('active');
            });

            // Funding scenarios
            const scenarios = {
                1000000: { marketingPool: 300000, runway: 12 },
                2000000: { marketingPool: 600000, runway: 18 },
                5000000: { marketingPool: 1500000, runway: 24 }
            };

            const scenario = scenarios[funding];
            const monthlyBudget = scenario.marketingPool / scenario.runway;
            const paidAdsShare = monthlyBudget * 0.40; // 40% to paid ads (Google + Meta)

            // Update summary cards
            document.getElementById('adcalc-total-pool').textContent = 'â‚¬' + scenario.marketingPool.toLocaleString();
            document.getElementById('adcalc-runway').textContent = scenario.runway + ' months';
            document.getElementById('adcalc-monthly').textContent = 'â‚¬' + Math.round(monthlyBudget).toLocaleString();
            document.getElementById('adcalc-paid-ads').textContent = 'â‚¬' + Math.round(paidAdsShare).toLocaleString();

            // Generate table data
            generateAdSpendTable(funding, scenario.marketingPool, scenario.runway);

            // Update chart
            renderAdBudgetChart(funding, scenario.runway);
        }

        function generateAdSpendTable(funding, marketingPool, runway) {
            const tbody = document.getElementById('adSpendTableBody');
            tbody.innerHTML = '';

            let revenue = 25000; // Starting revenue
            const growthRate = funding === 1000000 ? 0.15 : (funding === 2000000 ? 0.20 : 0.25);
            const baseMonthlyMarketing = marketingPool / runway;

            // Channel allocation percentages
            const allocation = {
                google: 0.20,
                meta: 0.20,
                affiliates: 0.25,
                influencers: 0.15,
                other: 0.20
            };

            let totalGoogle = 0, totalMeta = 0, totalAffiliates = 0, totalInfluencers = 0;

            for (let month = 1; month <= runway; month++) {
                // Marketing scales with revenue (15% of revenue) + base allocation
                const revenueBasedMarketing = revenue * 0.15;
                const totalMarketing = Math.max(revenueBasedMarketing, baseMonthlyMarketing * 0.5) + (baseMonthlyMarketing * 0.5);

                const google = totalMarketing * allocation.google;
                const meta = totalMarketing * allocation.meta;
                const affiliates = totalMarketing * allocation.affiliates;
                const influencers = totalMarketing * allocation.influencers;
                const other = totalMarketing * allocation.other;

                totalGoogle += google;
                totalMeta += meta;
                totalAffiliates += affiliates;
                totalInfluencers += influencers;

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>M${month}</td>
                    <td>â‚¬${Math.round(revenue).toLocaleString()}</td>
                    <td>â‚¬${Math.round(totalMarketing).toLocaleString()}</td>
                    <td class="cell-google">â‚¬${Math.round(google).toLocaleString()}</td>
                    <td class="cell-meta">â‚¬${Math.round(meta).toLocaleString()}</td>
                    <td class="cell-success">â‚¬${Math.round(affiliates).toLocaleString()}</td>
                    <td>â‚¬${Math.round(influencers).toLocaleString()}</td>
                    <td>â‚¬${Math.round(other).toLocaleString()}</td>
                `;
                tbody.appendChild(row);

                // Grow revenue
                revenue *= (1 + growthRate);
            }

            // Add totals row
            const totalsRow = document.createElement('tr');
            totalsRow.style.background = 'rgba(59, 130, 246, 0.1)';
            totalsRow.style.fontWeight = '600';
            totalsRow.innerHTML = `
                <td>TOTAL</td>
                <td>-</td>
                <td>â‚¬${Math.round(totalGoogle + totalMeta + totalAffiliates + totalInfluencers + (marketingPool * 0.2)).toLocaleString()}</td>
                <td style="color: #4285F4;">â‚¬${Math.round(totalGoogle).toLocaleString()}</td>
                <td style="color: #1877F2;">â‚¬${Math.round(totalMeta).toLocaleString()}</td>
                <td style="color: var(--accent-green);">â‚¬${Math.round(totalAffiliates).toLocaleString()}</td>
                <td>â‚¬${Math.round(totalInfluencers).toLocaleString()}</td>
                <td>-</td>
            `;
            tbody.appendChild(totalsRow);
        }

        function renderAdBudgetChart(funding, runway) {
            const chartEl = document.getElementById('chart-ad-budget');
            if (!chartEl) return;

            let revenue = 25000;
            const growthRate = funding === 1000000 ? 0.15 : (funding === 2000000 ? 0.20 : 0.25);
            const baseMonthlyMarketing = (funding * 0.30) / runway;

            const months = [];
            const googleData = [];
            const metaData = [];
            const affiliatesData = [];
            const otherData = [];

            for (let month = 1; month <= runway; month++) {
                const revenueBasedMarketing = revenue * 0.15;
                const totalMarketing = Math.max(revenueBasedMarketing, baseMonthlyMarketing * 0.5) + (baseMonthlyMarketing * 0.5);

                months.push('M' + month);
                googleData.push(Math.round(totalMarketing * 0.20));
                metaData.push(Math.round(totalMarketing * 0.20));
                affiliatesData.push(Math.round(totalMarketing * 0.25));
                otherData.push(Math.round(totalMarketing * 0.35));

                revenue *= (1 + growthRate);
            }

            const config = {
                series: [
                    { name: 'Google Ads', data: googleData },
                    { name: 'Meta Ads', data: metaData },
                    { name: 'Affiliates', data: affiliatesData },
                    { name: 'Other', data: otherData }
                ],
                chart: {
                    type: 'area',
                    height: 350,
                    stacked: true,
                    background: 'transparent',
                    toolbar: { show: false }
                },
                colors: ['#4285F4', '#1877F2', '#10b981', '#6b7280'],
                dataLabels: { enabled: false },
                stroke: { curve: 'smooth', width: 2 },
                fill: { type: 'gradient', gradient: { opacityFrom: 0.6, opacityTo: 0.1 } },
                xaxis: {
                    categories: months,
                    labels: { style: { colors: '#a0aec0' } },
                    axisBorder: { show: false },
                    axisTicks: { show: false }
                },
                yaxis: {
                    labels: {
                        style: { colors: '#a0aec0' },
                        formatter: val => 'â‚¬' + (val / 1000).toFixed(0) + 'k'
                    }
                },
                grid: { borderColor: 'rgba(255,255,255,0.05)' },
                legend: {
                    position: 'top',
                    horizontalAlign: 'left',
                    labels: { colors: '#a0aec0' }
                },
                tooltip: {
                    theme: 'dark',
                    y: { formatter: val => 'â‚¬' + val.toLocaleString() }
                }
            };

            if (window.adBudgetChartInstance) {
                window.adBudgetChartInstance.destroy();
            }

            window.adBudgetChartInstance = new ApexCharts(chartEl, config);
            window.adBudgetChartInstance.render();
        }

        function getAdBudgetChartConfig(fullscreen = false) {
            let revenue = 25000;
            const funding = currentAdBudgetFunding;
            const runway = funding === 1000000 ? 12 : (funding === 2000000 ? 18 : 24);
            const growthRate = funding === 1000000 ? 0.15 : (funding === 2000000 ? 0.20 : 0.25);
            const baseMonthlyMarketing = (funding * 0.30) / runway;

            const months = [];
            const googleData = [];
            const metaData = [];
            const affiliatesData = [];
            const otherData = [];

            for (let month = 1; month <= runway; month++) {
                const revenueBasedMarketing = revenue * 0.15;
                const totalMarketing = Math.max(revenueBasedMarketing, baseMonthlyMarketing * 0.5) + (baseMonthlyMarketing * 0.5);

                months.push('M' + month);
                googleData.push(Math.round(totalMarketing * 0.20));
                metaData.push(Math.round(totalMarketing * 0.20));
                affiliatesData.push(Math.round(totalMarketing * 0.25));
                otherData.push(Math.round(totalMarketing * 0.35));

                revenue *= (1 + growthRate);
            }

            return {
                series: [
                    { name: 'Google Ads', data: googleData },
                    { name: 'Meta Ads', data: metaData },
                    { name: 'Affiliates', data: affiliatesData },
                    { name: 'Other', data: otherData }
                ],
                chart: {
                    type: 'area',
                    height: fullscreen ? '100%' : 350,
                    stacked: true,
                    background: 'transparent',
                    toolbar: { show: false }
                },
                colors: ['#4285F4', '#1877F2', '#10b981', '#6b7280'],
                dataLabels: { enabled: false },
                stroke: { curve: 'smooth', width: 2 },
                fill: { type: 'gradient', gradient: { opacityFrom: 0.6, opacityTo: 0.1 } },
                xaxis: {
                    categories: months,
                    labels: { style: { colors: '#a0aec0' } },
                    axisBorder: { show: false },
                    axisTicks: { show: false }
                },
                yaxis: {
                    labels: {
                        style: { colors: '#a0aec0' },
                        formatter: val => 'â‚¬' + (val / 1000).toFixed(0) + 'k'
                    }
                },
                grid: { borderColor: 'rgba(255,255,255,0.05)' },
                legend: {
                    position: 'top',
                    horizontalAlign: 'left',
                    labels: { colors: '#a0aec0' }
                },
                tooltip: {
                    theme: 'dark',
                    y: { formatter: val => 'â‚¬' + val.toLocaleString() }
                }
            };
        }

        // =====================================================
        // INTERACTIVE BUDGET SIMULATOR
        // =====================================================
        let revenueSimulatorChart = null;

        function updateBudgetSimulator() {
            // Get slider values
            const googleAds = parseInt(document.getElementById('googleAdsSlider').value);
            const metaAds = parseInt(document.getElementById('metaAdsSlider').value);
            const runway = parseInt(document.getElementById('runwaySlider').value);
            const roas = parseFloat(document.getElementById('roasSlider').value);

            // Update displayed values
            document.getElementById('googleAdsValue').textContent = 'â‚¬' + googleAds.toLocaleString();
            document.getElementById('metaAdsValue').textContent = 'â‚¬' + metaAds.toLocaleString();
            document.getElementById('runwayValue').textContent = runway + ' months';
            document.getElementById('roasValue').textContent = roas.toFixed(1) + 'x';

            // Calculate totals
            const monthlyTotal = googleAds + metaAds;
            const totalInvestment = monthlyTotal * runway;
            const projectedRevenue = totalInvestment * roas;
            const netProfit = projectedRevenue - totalInvestment;
            const profitPercentage = ((projectedRevenue / totalInvestment) - 1) * 100;

            // Calculate new customers (using â‚¬100 target CAC for optimized campaigns)
            const targetCAC = 100;
            const customersAcquired = Math.round(projectedRevenue / targetCAC);

            // Update impact cards
            document.getElementById('totalAdInvestment').textContent = 'â‚¬' + totalInvestment.toLocaleString();
            document.getElementById('investmentDetail').textContent = 'â‚¬' + monthlyTotal.toLocaleString() + '/mo Ã— ' + runway + ' months';

            document.getElementById('projectedAdRevenue').textContent = 'â‚¬' + projectedRevenue.toLocaleString();
            document.getElementById('projectedAdRevenue').className = 'impact-value ' + (roas >= 1 ? 'success' : 'danger');
            document.getElementById('revenueDetail').textContent = 'At ' + roas.toFixed(1) + 'x ROAS';

            // Net profit styling
            const netProfitEl = document.getElementById('netProfit');
            const profitCardEl = document.getElementById('profitCard');
            if (netProfit >= 0) {
                netProfitEl.textContent = '+â‚¬' + netProfit.toLocaleString();
                netProfitEl.style.color = '#10b981';
                profitCardEl.style.borderLeftColor = '#10b981';
            } else {
                netProfitEl.textContent = '-â‚¬' + Math.abs(netProfit).toLocaleString();
                netProfitEl.style.color = '#ef4444';
                profitCardEl.style.borderLeftColor = '#ef4444';
            }
            document.getElementById('profitDetail').textContent = (profitPercentage >= 0 ? '+' : '') + profitPercentage.toFixed(0) + '% return on investment';

            document.getElementById('customersAcquired').textContent = '~' + customersAcquired.toLocaleString();
            document.getElementById('customerDetail').textContent = 'At â‚¬' + targetCAC + ' target CAC';

            // Update comparison bar
            const currentMonthly = 12000;
            document.getElementById('comparisonNewValue').textContent = 'â‚¬' + monthlyTotal.toLocaleString();
            const percentIncrease = ((monthlyTotal - currentMonthly) / currentMonthly * 100);
            document.getElementById('comparisonIncrease').textContent = (percentIncrease >= 0 ? '+' : '') + percentIncrease.toFixed(0) + '%';
            document.getElementById('comparisonIncrease').className = 'comparison-value ' + (percentIncrease >= 0 ? 'increase' : 'decrease');

            // Render the revenue vs spend chart
            renderRevenueSimulatorChart(googleAds, metaAds, runway, roas);
        }

        function renderRevenueSimulatorChart(googleAds, metaAds, runway, roas) {
            const chartEl = document.getElementById('chart-revenue-simulator');
            if (!chartEl) return;

            const months = [];
            const adSpendData = [];
            const revenueData = [];
            const cumulativeSpendData = [];
            const cumulativeRevenueData = [];

            let cumulativeSpend = 0;
            let cumulativeRevenue = 0;
            const monthlySpend = googleAds + metaAds;

            // Generate monthly data
            for (let month = 1; month <= runway; month++) {
                months.push('M' + month);

                // Monthly spend is constant
                adSpendData.push(monthlySpend);

                // Revenue grows over time as ads optimize (starts at current ROAS 0.61, improves to target ROAS)
                const currentRoasImprovement = 0.61 + ((roas - 0.61) * (month / runway));
                const monthlyRevenue = monthlySpend * currentRoasImprovement;
                revenueData.push(Math.round(monthlyRevenue));

                // Cumulative totals
                cumulativeSpend += monthlySpend;
                cumulativeRevenue += monthlyRevenue;
                cumulativeSpendData.push(cumulativeSpend);
                cumulativeRevenueData.push(Math.round(cumulativeRevenue));
            }

            const config = {
                series: [
                    {
                        name: 'Monthly Ad Spend',
                        type: 'column',
                        data: adSpendData
                    },
                    {
                        name: 'Monthly Revenue',
                        type: 'column',
                        data: revenueData
                    },
                    {
                        name: 'Cumulative Revenue',
                        type: 'line',
                        data: cumulativeRevenueData
                    }
                ],
                chart: {
                    type: 'line',
                    height: 350,
                    background: 'transparent',
                    toolbar: { show: false },
                    animations: {
                        enabled: true,
                        easing: 'easeinout',
                        speed: 400
                    }
                },
                colors: ['#ef4444', '#10b981', '#3b82f6'],
                plotOptions: {
                    bar: {
                        columnWidth: '60%',
                        borderRadius: 4
                    }
                },
                dataLabels: { enabled: false },
                stroke: {
                    width: [0, 0, 3],
                    curve: 'smooth'
                },
                fill: {
                    opacity: [0.85, 0.85, 1]
                },
                xaxis: {
                    categories: months,
                    labels: { style: { colors: '#a0aec0' } },
                    axisBorder: { show: false },
                    axisTicks: { show: false }
                },
                yaxis: [
                    {
                        title: {
                            text: 'Monthly (â‚¬)',
                            style: { color: '#a0aec0' }
                        },
                        labels: {
                            style: { colors: '#a0aec0' },
                            formatter: val => 'â‚¬' + (val / 1000).toFixed(0) + 'k'
                        }
                    },
                    {
                        opposite: true,
                        title: {
                            text: 'Cumulative Revenue (â‚¬)',
                            style: { color: '#3b82f6' }
                        },
                        labels: {
                            style: { colors: '#3b82f6' },
                            formatter: val => 'â‚¬' + (val / 1000).toFixed(0) + 'k'
                        }
                    }
                ],
                grid: { borderColor: 'rgba(255,255,255,0.05)' },
                legend: {
                    position: 'top',
                    horizontalAlign: 'left',
                    labels: { colors: '#a0aec0' }
                },
                tooltip: {
                    theme: 'dark',
                    shared: true,
                    intersect: false,
                    y: {
                        formatter: function(val, { seriesIndex }) {
                            return 'â‚¬' + val.toLocaleString();
                        }
                    }
                },
                annotations: {
                    yaxis: [{
                        y: cumulativeRevenueData[cumulativeRevenueData.length - 1],
                        y2: cumulativeSpendData[cumulativeSpendData.length - 1],
                        yAxisIndex: 1,
                        borderColor: 'transparent',
                        fillColor: 'rgba(16, 185, 129, 0.1)',
                        label: {
                            borderColor: '#10b981',
                            style: {
                                color: '#fff',
                                background: '#10b981'
                            },
                            text: 'Profit Zone'
                        }
                    }]
                }
            };

            if (revenueSimulatorChart) {
                revenueSimulatorChart.updateOptions(config);
            } else {
                revenueSimulatorChart = new ApexCharts(chartEl, config);
                revenueSimulatorChart.render();
            }
        }

        // =====================================================
        // INITIALIZE ON LOAD
        // =====================================================
        document.addEventListener('DOMContentLoaded', function() {
            initChartsForPage('executive');
            // Initialize Ad Budget Calculator with default â‚¬2M
            setTimeout(() => updateAdBudgetCalculator(2000000), 100);
            // Initialize Budget Simulator
            setTimeout(() => updateBudgetSimulator(), 200);
        });

        // =====================================================
        // PITCH DECK INTEGRATION
        // =====================================================
        function openPitchDeck() {
            const modal = document.getElementById('pitchDeckModal');
            const iframe = document.getElementById('pitchDeckIframe');
            const loading = document.getElementById('pitchDeckLoading');

            modal.classList.add('active');
            document.body.style.overflow = 'hidden';

            // Show loading state
            loading.style.display = 'block';
            iframe.style.opacity = '0';

            // Load the pitch deck
            iframe.src = 'pitch-deck.html';

            iframe.onload = function() {
                loading.style.display = 'none';
                iframe.style.opacity = '1';
            };

            // Close on escape key
            document.addEventListener('keydown', closePitchDeckOnEscape);
        }

        function closePitchDeck() {
            const modal = document.getElementById('pitchDeckModal');
            const iframe = document.getElementById('pitchDeckIframe');

            modal.classList.remove('active');
            document.body.style.overflow = '';
            iframe.src = '';

            document.removeEventListener('keydown', closePitchDeckOnEscape);
        }

        function closePitchDeckOnEscape(e) {
            if (e.key === 'Escape') {
                closePitchDeck();
            }
        }

        function openPitchDeckNewTab() {
            window.open('pitch-deck.html', '_blank');
        }
    </script>

    <!-- Pitch Deck Modal -->
    <div class="pitch-deck-modal" id="pitchDeckModal">
        <div class="pitch-deck-header">
            <div class="pitch-deck-title">
                <span>&#127916;</span>
                TrueYield Investor Pitch Deck
            </div>
            <div class="pitch-deck-actions">
                <button class="pitch-deck-btn-action secondary" onclick="openPitchDeckNewTab()">
                    <span>&#8599;</span>
                    Open in New Tab
                </button>
                <button class="pitch-deck-btn-action close" onclick="closePitchDeck()">
                    <span>&#10005;</span>
                    Close
                </button>
            </div>
        </div>
        <div class="pitch-deck-iframe-container">
            <div class="pitch-deck-loading" id="pitchDeckLoading">
                <div class="spinner"></div>
                <p>Loading Pitch Deck...</p>
            </div>
            <iframe class="pitch-deck-iframe" id="pitchDeckIframe" src="" title="TrueYield Investor Pitch Deck"></iframe>
        </div>
    </div>
</body>
</html>
